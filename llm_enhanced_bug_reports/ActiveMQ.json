[
    {
        "filename": "AMQ-6548.json",
        "creation_time": "2016-12-21T12:04:12.000+0000",
        "bug_report": {
            "BugID": "AMQ-6548",
            "Title": "EJB Invocation Failure on Message Consumption in Wildfly",
            "Description": "When the EJB component is shutting down, it still attempts to consume messages, leading to an invocation failure. This issue occurs in the context of a message-driven bean (MDB) in Wildfly 9.0.2.Final with XA Transactions.",
            "StackTrace": [
                "2016-12-15 16:12:58,831 ERROR [org.jboss.as.ejb3.invocation.processInvocation] (default-threads - 23) WFLYEJB0034: EJB Invocation failed on component test.test.mdb for method public void test.test.onMessage(javax.jms.Message): org.jboss.as.ejb3.component.EJBComponentUnavailableException: WFLYEJB0421: Invocation cannot proceed as component is shutting down",
                "at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:59)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription$5$1.processInvocation(MessageDrivenComponentDescription.java:213)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)",
                "at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:634)",
                "at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)",
                "at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)",
                "at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)",
                "at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)",
                "at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)",
                "at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)",
                "at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)",
                "at test.test$$$view19.onMessage(Unknown Source)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)",
                "at java.lang.reflect.Method.invoke(Method.java:498)",
                "at org.jboss.as.ejb3.inflow.MessageEndpointInvocationHandler.doInvoke(MessageEndpointInvocationHandler.java:139)",
                "at org.jboss.as.ejb3.inflow.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:73)",
                "at test.test$$$endpoint12.onMessage(Unknown Source)",
                "at org.apache.activemq.ra.MessageEndpointProxy$MessageEndpointAlive.onMessage(MessageEndpointProxy.java:123)",
                "at org.apache.activemq.ra.MessageEndpointProxy.onMessage(MessageEndpointProxy.java:64)",
                "at org.apache.activemq.ActiveMQSession.run(ActiveMQSession.java:1041)",
                "at org.apache.activemq.ra.ServerSessionImpl.run(ServerSessionImpl.java:169)",
                "at org.jboss.jca.core.workmanager.WorkWrapper.run(WorkWrapper.java:226)",
                "at org.jboss.threads.SimpleDirectExecutor.execute(SimpleDirectExecutor.java:33)",
                "at org.jboss.threads.QueueExecutor.runTask(QueueExecutor.java:808)",
                "at org.jboss.threads.QueueExecutor.access$100(QueueExecutor.java:45)",
                "at org.jboss.threads.QueueExecutor$Worker.run(QueueExecutor.java:828)",
                "at java.lang.Thread.run(Thread.java:745)",
                "at org.jboss.threads.JBossThread.run(JBossThread.java:320)"
            ],
            "StepsToReproduce": [
                "Deploy the EJB component in Wildfly 9.0.2.Final.",
                "Send a message to the MDB while the component is shutting down.",
                "Observe the logs for any invocation errors."
            ],
            "ExpectedBehavior": "The EJB component should not attempt to consume messages when it is shutting down.",
            "ObservedBehavior": "The EJB component attempts to consume messages and throws an EJBComponentUnavailableException.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3434.json",
        "creation_time": "2011-08-03T09:15:05.000+0000",
        "bug_report": {
            "BugID": "AMQ-3434",
            "Title": "NullPointerException in FilePendingMessageCursor during message processing",
            "Description": "Occasional occurrence of a NullPointerException in the FilePendingMessageCursor when processing messages, leading to failures in message delivery.",
            "StackTrace": [
                "2011-06-30 16:02:09,903 [127.0.0.1:50524] ERROR FilePendingMessageCursor - Caught an IO Exception getting the DiskList 98_PendingCursor:loadq-3",
                "java.lang.NullPointerException",
                "\tat org.apache.kahadb.index.ListIndex.loadNode(ListIndex.java:203)",
                "\tat org.apache.kahadb.index.ListIndex.load(ListIndex.java:75)",
                "\tat org.apache.activemq.store.kahadb.plist.PListStore$1.execute(PListStore.java:219)",
                "\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:729)",
                "\tat org.apache.activemq.store.kahadb.plist.PListStore.getPList(PListStore.java:216)",
                "\tat org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.getDiskList(FilePendingMessageCursor.java:454)",
                "\tat org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.flushToDisk(FilePendingMessageCursor.java:432)",
                "\tat org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.tryAddMessageLast(FilePendingMessageCursor.java:217)",
                "\tat org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.addMessageLast(FilePendingMessageCursor.java:193)",
                "\tat org.apache.activemq.broker.region.Queue.sendMessage(Queue.java:1629)",
                "\tat org.apache.activemq.broker.region.Queue.doMessageSend(Queue.java:720)",
                "\tat org.apache.activemq.broker.region.Queue.send(Queue.java:652)",
                "\tat org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:379)",
                "\tat org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:523)",
                "\tat org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:129)",
                "\tat org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)",
                "\tat org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:304)",
                "\tat org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:129)",
                "\tat org.apache.activemq.broker.UserIDBroker.send(UserIDBroker.java:56)",
                "\tat org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:135)",
                "\tat org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:468)",
                "\tat org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:681)",
                "\tat org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:316)",
                "\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:180)",
                "\tat org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:69)",
                "\tat org.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:81)",
                "\tat org.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:140)",
                "\tat org.apache.activemq.transport.stomp.ProtocolConverter.onStompSend(ProtocolConverter.java:257)",
                "\tat org.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:178)",
                "\tat org.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:70)",
                "\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:221)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:203)",
                "\tat java.lang.Thread.run(Thread.java:662)"
            ],
            "StepsToReproduce": [
                "1. Set up a stomp stress test environment.",
                "2. Send a large number of messages to a virtual topic queue with memory limits.",
                "3. Monitor the logs for any NullPointerExceptions related to FilePendingMessageCursor."
            ],
            "ExpectedBehavior": "Messages should be processed without any exceptions, and all messages should be delivered successfully.",
            "ObservedBehavior": "Occasional NullPointerExceptions occur, causing message processing failures and potential message loss.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3443.json",
        "creation_time": "2011-08-09T17:46:14.000+0000",
        "bug_report": {
            "BugID": "AMQ-3443",
            "Title": "Intermittent Unit Test Failure Due to Checkpoint Contention in KahaDB",
            "Description": "The unit test 'AMQ2149KahaDBTest.testQueueTransactionalOrderWithRestart' fails intermittently due to a checkpoint contention issue when writing large transactions using temporary files. The error indicates that the recovery file cannot be created because the specified directory does not exist.",
            "StackTrace": [
                "2011-08-09 05:25:21,468 [Checkpoint Worker] - ERROR MessageDatabase - Checkpoint failed",
                "java.io.IOException: Cannot create recovery file. Reason: java.io.FileNotFoundException: target/testQueueTransactionalOrderWithRestart/testQueueTransactionalOrderWithRestart/KahaDB/tx-7648-1312867516460.tmp (No such file or directory)",
                "at org.apache.kahadb.util.IOExceptionSupport.create(IOExceptionSupport.java:27)",
                "at org.apache.kahadb.page.PageFile.writeBatch(PageFile.java:1002)",
                "at org.apache.kahadb.page.PageFile.flush(PageFile.java:482)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1167)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$10.execute(MessageDatabase.java:728)",
                "at org.apache.kahadb.page.Transaction.execute(Transaction.java:762)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.checkpointCleanup(MessageDatabase.java:726)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.checkpointCleanup(MessageDatabase.java:714)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$3.run(MessageDatabase.java:279)",
                "Caused by: java.io.FileNotFoundException: target/testQueueTransactionalOrderWithRestart/testQueueTransactionalOrderWithRestart/KahaDB/tx-7648-1312867516460.tmp (No such file or directory)",
                "at java.io.RandomAccessFile.open(Native Method)",
                "at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)",
                "at org.apache.kahadb.page.PageFile$PageWrite.getDiskBound(PageFile.java:185)",
                "at org.apache.kahadb.page.PageFile.writeBatch(PageFile.java:1000)"
            ],
            "StepsToReproduce": [
                "Run the unit test 'AMQ2149KahaDBTest.testQueueTransactionalOrderWithRestart'.",
                "Ensure that the test environment has sufficient load to trigger the checkpoint contention.",
                "Observe the test results for intermittent failures."
            ],
            "ExpectedBehavior": "The unit test should pass without any IO exceptions related to recovery file creation.",
            "ObservedBehavior": "The unit test fails intermittently with an IOException indicating that the recovery file cannot be created due to a missing directory.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-4369.json",
        "creation_time": "2013-03-13T13:51:31.000+0000",
        "bug_report": {
            "BugID": "AMQ-4369",
            "Title": "IOException Occurs Before Default Handler is Installed in ActiveMQ",
            "Description": "An IOException is thrown before the default IOExceptionHandler is registered, leading to the exception being ignored. The handler needs to be set earlier in the process to prevent this issue.",
            "StackTrace": [
                "2013-03-11 09:51:24,409 | INFO  | No IOExceptionHandler registered, ignoring IO exception, java.io.IOException: Input/output error | org.apache.activemq.broker.BrokerService | ActiveMQ Transport: ssl:///xxx:yyy",
                "java.io.IOException: Input/output error",
                "\tat java.io.RandomAccessFile.readBytes(Native Method)",
                "\tat java.io.RandomAccessFile.read(RandomAccessFile.java:355)",
                "\tat java.io.RandomAccessFile.readFully(RandomAccessFile.java:414)",
                "\tat java.io.RandomAccessFile.readFully(RandomAccessFile.java:394)",
                "\tat org.apache.kahadb.page.PageFile.readPage(PageFile.java:833)",
                "\tat org.apache.kahadb.page.Transaction$2.readPage(Transaction.java:447)",
                "\tat org.apache.kahadb.page.Transaction$2.<init>(Transaction.java:438)",
                "\tat org.apache.kahadb.page.Transaction.openInputStream(Transaction.java:435)",
                "\tat org.apache.kahadb.page.Transaction.load(Transaction.java:411)",
                "\tat org.apache.kahadb.page.Transaction.load(Transaction.java:368)",
                "\tat org.apache.kahadb.index.BTreeIndex.loadNode(BTreeIndex.java:262)",
                "\tat org.apache.kahadb.index.BTreeIndex.getRoot(BTreeIndex.java:174)",
                "\tat org.apache.kahadb.index.BTreeIndex.remove(BTreeIndex.java:194)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase.updateIndex(MessageDatabase.java:1212)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase$15.execute(MessageDatabase.java:1028)",
                "\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:771)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:1026)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase$13.visit(MessageDatabase.java:961)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:953)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:865)",
                "\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.removeMessage(KahaDBStore.java:439)",
                "\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.removeAsyncMessage(KahaDBStore.java:411)",
                "\tat org.apache.activemq.store.kahadb.KahaDBTransactionStore.removeAsyncMessage(KahaDBTransactionStore.java:468)",
                "\tat org.apache.activemq.store.kahadb.KahaDBTransactionStore$1.removeAsyncMessage(KahaDBTransactionStore.java:171)",
                "\tat org.apache.activemq.broker.region.Queue.acknowledge(Queue.java:830)",
                "\tat org.apache.activemq.broker.region.Queue.removeMessage(Queue.java:1584)",
                "\tat org.apache.activemq.broker.region.QueueSubscription.acknowledge(QueueSubscription.java:59)",
                "\tat org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:294)",
                "\tat org.apache.activemq.broker.region.AbstractRegion.acknowledge(AbstractRegion.java:426)",
                "\tat org.apache.activemq.broker.region.RegionBroker.acknowledge(RegionBroker.java:537)",
                "\tat org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:77)",
                "\tat org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:77)",
                "\tat org.apache.activemq.broker.TransactionBroker.acknowledge(TransactionBroker.java:287)",
                "\tat org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:77)",
                "\tat org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:77)",
                "\tat org.apache.activemq.broker.MutableBrokerFilter.acknowledge(MutableBrokerFilter.java:87)",
                "\tat org.apache.activemq.broker.TransportConnection.processMessageAck(TransportConnection.java:461)",
                "\tat org.apache.activemq.command.MessageAck.visit(MessageAck.java:236)",
                "\tat org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:292)",
                "\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:150)",
                "\tat org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "\tat org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "\tat org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:268)",
                "\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "\tat org.apache.activemq.transport.tcp.SslTransport.doConsume(SslTransport.java:91)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:215)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:197)",
                "\tat java.lang.Thread.run(Thread.java:679)"
            ],
            "StepsToReproduce": [
                "Start ActiveMQ with the current configuration.",
                "Trigger an operation that would lead to an IOException before the default handler is registered."
            ],
            "ExpectedBehavior": "The default IOExceptionHandler should be registered and handle any IO exceptions appropriately.",
            "ObservedBehavior": "An IOException occurs and is ignored due to the absence of a registered handler.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-5016.json",
        "creation_time": "2014-02-03T16:40:26.000+0000",
        "bug_report": {
            "BugID": "AMQ-5016",
            "Title": "BitArrayBin Fails with Index Larger than Integer.MAX_VALUE",
            "Description": "In the BitArrayBin class, the index's unit type is long, while the variable firstIndex, which stores the starting index of the window, is of type int. When the index exceeds Integer.MAX_VALUE, the methods setBit() and getBit() return incorrect values. This defect causes the ActiveMQ client to perform poorly when receiving messages with a sequence ID greater than the maximum integer value, leading to excessive time spent shifting the window and blocking other consumer threads.",
            "StackTrace": [
                "\"ActiveMQ Session Task-869879\" prio=10 tid=0x00007f412d6ee000 nid=0x3cbe runnable [0x00007f405b7b6000]",
                "   java.lang.Thread.State: RUNNABLE",
                "        at java.util.LinkedList.linkLast(LinkedList.java:140)",
                "        at java.util.LinkedList.add(LinkedList.java:336)",
                "        at org.apache.activemq.util.BitArrayBin.getBitArray(BitArrayBin.java:123)",
                "        at org.apache.activemq.util.BitArrayBin.setBit(BitArrayBin.java:59)",
                "        at org.apache.activemq.ActiveMQMessageAuditNoSync.isDuplicate(ActiveMQMessageAuditNoSync.java:160)",
                "        at org.apache.activemq.ActiveMQMessageAudit.isDuplicate(ActiveMQMessageAudit.java:59)",
                "        - locked <0x00007f46a0138ab0> (a org.apache.activemq.ActiveMQMessageAudit)",
                "        at org.apache.activemq.ActiveMQMessageAuditNoSync.isDuplicate(ActiveMQMessageAuditNoSync.java:140)",
                "        at org.apache.activemq.ConnectionAudit.isDuplicate(ConnectionAudit.java:52)",
                "        - locked <0x00007f4881e6b968> (a org.apache.activemq.ConnectionAudit)",
                "        at org.apache.activemq.ActiveMQConnection.isDuplicate(ActiveMQConnection.java:2291)",
                "        at org.apache.activemq.ActiveMQMessageConsumer.dispatch(ActiveMQMessageConsumer.java:1223)",
                "        - locked <0x00007f45db222fb8> (a java.lang.Object)",
                "        at org.apache.activemq.ActiveMQSessionExecutor.dispatch(ActiveMQSessionExecutor.java:134)",
                "        at org.apache.activemq.ActiveMQSessionExecutor.iterate(ActiveMQSessionExecutor.java:205)",
                "        at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:127)",
                "        at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:48)",
                "        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)",
                "        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)",
                "        at java.lang.Thread.run(Thread.java:722)"
            ],
            "StepsToReproduce": [
                "1. Create a BitArrayBin instance.",
                "2. Set the index to a value greater than Integer.MAX_VALUE.",
                "3. Call setBit() and getBit() methods.",
                "4. Observe the returned values."
            ],
            "ExpectedBehavior": "The setBit() and getBit() methods should return correct values regardless of the index size.",
            "ObservedBehavior": "The setBit() and getBit() methods return incorrect values when the index exceeds Integer.MAX_VALUE.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-4407.json",
        "creation_time": "2013-03-26T15:41:15.000+0000",
        "bug_report": {
            "BugID": "AMQ-4407",
            "Title": "mKahaDB: PageFile Not Loaded When Recreating Queue",
            "Description": "When using mKahaDB, an error occurs while attempting to recreate a queue after it has been deleted through the admin interface. The error indicates that the PageFile is not loaded.",
            "StackTrace": [
                "2013-03-08 10:29:17,903 | WARN  | Async error occurred: java.lang.IllegalStateException: PageFile is not loaded | org.apache.activemq.broker.TransportConnection.Service | ActiveMQ Transport: tcp:///0:0:0:0:0:0:0:1%0:65222@61613",
                "java.lang.IllegalStateException: PageFile is not loaded",
                "\tat org.apache.activemq.store.kahadb.disk.page.PageFile.assertLoaded(PageFile.java:809)",
                "\tat org.apache.activemq.store.kahadb.disk.page.PageFile.tx(PageFile.java:303)",
                "\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.getMessageCount(KahaDBStore.java:478)",
                "\tat org.apache.activemq.store.ProxyMessageStore.getMessageCount(ProxyMessageStore.java:101)",
                "\tat org.apache.activemq.store.ProxyMessageStore.getMessageCount(ProxyMessageStore.java:101)",
                "\tat org.apache.activemq.broker.region.Queue.initialize(Queue.java:376)",
                "\tat org.apache.activemq.broker.region.DestinationFactoryImpl.createDestination(DestinationFactoryImpl.java:87)",
                "\tat org.apache.activemq.broker.region.AbstractRegion.createDestination(AbstractRegion.java:526)",
                "\tat org.apache.activemq.broker.jmx.ManagedQueueRegion.createDestination(ManagedQueueRegion.java:56)",
                "\tat org.apache.activemq.broker.region.AbstractRegion.addDestination(AbstractRegion.java:136)",
                "\tat org.apache.activemq.broker.region.RegionBroker.addDestination(RegionBroker.java:277)",
                "\tat org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:145)",
                "\tat org.apache.activemq.broker.BrokerFilter.addDestination(BrokerFilter.java:145)",
                "\tat org.apache.activemq.broker.MutableBrokerFilter.addDestination(MutableBrokerFilter.java:151)",
                "\tat org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:387)",
                "\tat org.apache.activemq.broker.jmx.ManagedRegionBroker.send(ManagedRegionBroker.java:282)",
                "\tat org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)",
                "\tat org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:317)",
                "\tat org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:135)",
                "\tat org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:499)",
                "\tat org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:749)",
                "\tat org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:329)",
                "\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:184)",
                "\tat org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:45)",
                "\tat org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:288)",
                "\tat org.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:84)",
                "\tat org.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:195)",
                "\tat org.apache.activemq.transport.stomp.ProtocolConverter.onStompSend(ProtocolConverter.java:321)",
                "\tat org.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:233)",
                "\tat org.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:73)",
                "\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:214)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)",
                "\tat java.lang.Thread.run(Thread.java:680)",
                "2013-03-08 10:29:17,905 | WARN  | Exception occurred processing: \nnull: java.lang.IllegalStateException: PageFile is not loaded | org.apache.activemq.transport.stomp.ProtocolConverter | ActiveMQ Connection Dispatcher: tcp://0:0:0:0:0:0:0:1%0:65222"
            ],
            "StepsToReproduce": [
                "1. Use mKahaDB to create a queue.",
                "2. Delete the queue through the admin interface.",
                "3. Attempt to recreate the deleted queue."
            ],
            "ExpectedBehavior": "The queue should be recreated without any errors.",
            "ObservedBehavior": "An error occurs stating that the PageFile is not loaded.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-4221.json",
        "creation_time": "2012-12-13T16:15:04.000+0000",
        "bug_report": {
            "BugID": "AMQ-4221",
            "Title": "NullPointerException during Queue Message Paging in ActiveMQ",
            "Description": "A NullPointerException occurs when attempting to page in more queue messages, leading to failure in message processing.",
            "StackTrace": [
                "2012-12-13 11:37:27,027 [calhost] Task-1] - ERROR Queue - Failed to page in more queue messages",
                "java.lang.NullPointerException",
                "at org.apache.kahadb.index.ListNode.access$200(ListNode.java:37)",
                "at org.apache.kahadb.index.ListNode$NodeMarshaller.writePayload(ListNode.java:265)",
                "at org.apache.kahadb.index.ListNode$NodeMarshaller.writePayload(ListNode.java:255)",
                "at org.apache.kahadb.page.Transaction.store(Transaction.java:248)",
                "at org.apache.kahadb.index.ListIndex.storeNode(ListIndex.java:326)",
                "at org.apache.kahadb.index.ListNode.store(ListNode.java:332)",
                "at org.apache.kahadb.index.ListNode.access$500(ListNode.java:37)",
                "at org.apache.kahadb.index.ListNode$ListIterator.remove(ListNode.java:227)",
                "at org.apache.activemq.store.kahadb.plist.PList$PListIterator$1.execute(PList.java:229)",
                "at org.apache.kahadb.page.Transaction.execute(Transaction.java:771)",
                "at org.apache.activemq.store.kahadb.plist.PList$PListIterator.remove(PList.java:226)",
                "at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor$DiskIterator.remove(FilePendingMessageCursor.java:517)",
                "at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.remove(FilePendingMessageCursor.java:321)",
                "at org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1735)",
                "at org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1948)",
                "at org.apache.activemq.broker.region.Queue.iterate(Queue.java:1465)",
                "at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)",
                "at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)",
                "at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)",
                "at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)",
                "at java.lang.Thread.run(Thread.java:680)"
            ],
            "StepsToReproduce": [
                "1. Start the ActiveMQ broker.",
                "2. Create a queue and send multiple messages to it.",
                "3. Attempt to page in messages from the queue using a selector and expiry.",
                "4. Observe the logs for any errors."
            ],
            "ExpectedBehavior": "The queue should successfully page in messages without throwing a NullPointerException.",
            "ObservedBehavior": "A NullPointerException is thrown, causing the queue to fail in paging messages.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3622.json",
        "creation_time": "2011-12-06T15:16:49.000+0000",
        "bug_report": {
            "BugID": "AMQ-3622",
            "Title": "NullPointerException in LastImageSubscriptionRecoveryPolicy when browsing empty topic",
            "Description": "When starting up a subscriber with no messages available, a NullPointerException (NPE) is logged repeatedly every 30 seconds until a message is sent to the topic. This issue occurs in the LastImageSubscriptionRecoveryPolicy class.",
            "StackTrace": [
                "2011-12-02 15:01:00,588 | WARN  | Failed to browse Topic: xxx | org.apache.activemq.broker.region.Topic | ActiveMQ Broker[xxx] Scheduler",
                "java.lang.NullPointerException",
                "\tat org.apache.activemq.broker.region.policy.LastImageSubscriptionRecoveryPolicy.browse(LastImageSubscriptionRecoveryPolicy.java:63)",
                "\tat org.apache.activemq.broker.region.Topic.browse(Topic.java:564)",
                "\tat org.apache.activemq.broker.region.Topic$6.run(Topic.java:659)",
                "\tat org.apache.activemq.thread.SchedulerTimerTask.run(SchedulerTimerTask.java:33)",
                "\tat java.util.TimerThread.mainLoop(Timer.java:512)",
                "\tat java.util.TimerThread.run(Timer.java:462)"
            ],
            "StepsToReproduce": [
                "1. Start up a subscriber with no messages available in the topic.",
                "2. Observe the logs for warnings related to browsing the topic."
            ],
            "ExpectedBehavior": "The subscriber should start without logging any errors or warnings.",
            "ObservedBehavior": "A NullPointerException is logged repeatedly every 30 seconds.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-6016.json",
        "creation_time": "2015-10-21T12:55:55.000+0000",
        "bug_report": {
            "BugID": "AMQ-6016",
            "Title": "IllegalArgumentException: Comparison method violates its general contract during message group balancing",
            "Description": "The message group balancing is based on state in the consumer that can be shared across destinations in error. Under load, this can lead to an IllegalArgumentException being thrown, indicating that the comparison method violates its general contract.",
            "StackTrace": [
                "2015-04-13 10:24:20,034 | WARN  | IO Worker 308792 | Service                          | ivemq.broker.TransportConnection  312 | 121 - org.apache.activemq.activemq-osgi - 5.9.0 | Async error occurred:",
                "java.lang.IllegalArgumentException: Comparison method violates its general contract!",
                "at java.util.TimSort.mergeHi(TimSort.java:868)[:1.7.0_65]",
                "at java.util.TimSort.mergeAt(TimSort.java:485)[:1.7.0_65]",
                "at java.util.TimSort.mergeCollapse(TimSort.java:410)[:1.7.0_65]",
                "at java.util.TimSort.sort(TimSort.java:214)[:1.7.0_65]",
                "at java.util.TimSort.sort(TimSort.java:173)[:1.7.0_65]",
                "at java.util.Arrays.sort(Arrays.java:659)[:1.7.0_65]",
                "at java.util.Collections.sort(Collections.java:217)[:1.7.0_65]",
                "at org.apache.activemq.broker.region.Queue.addToConsumerList(Queue.java:2131)[121:org.apache.activemq.activemq-osgi:5.9.0]",
                "at org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:2067)[121:org.apache.activemq.activemq-osgi:5.9.0]",
                "at org.apache.activemq.broker.region.Queue.doDispatch(Queue.java:1972)[121:org.apache.activemq.activemq-osgi:5.9.0]",
                "at org.apache.activemq.broker.region.Queue.removeSubscription(Queue.java:587)[121:org.apache.activemq.activemq-osgi:5.9.0]",
                "at org.apache.activemq.broker.region.DestinationFilter.removeSubscription(DestinationFilter.java:127)[121:org.apache.activemq.activemq-osgi:5.9.0]",
                "at ......",
                "at java.lang.Thread.run(Thread.java:745)[:1.7.0_65]"
            ],
            "StepsToReproduce": [
                "1. Start the ActiveMQ broker with a high load of message groups.",
                "2. Configure consumers to subscribe to the message groups.",
                "3. Monitor the broker logs for warnings or errors."
            ],
            "ExpectedBehavior": "The broker should balance message groups among consumers without throwing exceptions.",
            "ObservedBehavior": "An IllegalArgumentException is thrown, indicating that the comparison method violates its general contract.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3490.json",
        "creation_time": "2011-09-08T20:31:57.000+0000",
        "bug_report": {
            "BugID": "AMQ-3490",
            "Title": "NullPointerException during message processing with FileCursor in ActiveMQ",
            "Description": "In a scenario where a single-consumer queue for non-persistent messages uses a file cursor to manage a backlog, bursts of messages result in NullPointerExceptions (NPEs). This issue occurs when attempting to retrieve the DiskList for the pending cursor, leading to multiple stack traces indicating the source of the NPE.",
            "StackTrace": [
                "2011-09-07 12:43:27,057 ERROR [cursors.FilePendingMessageCursor] [] : [Usage Async Task] Caught an IO Exception getting the DiskList7_PendingCursor:snTableQueue_CHF",
                "java.lang.NullPointerException",
                "    at java.io.Writer.write(Writer.java:140)",
                "    at java.io.BufferedWriter.newLine(BufferedWriter.java:225)",
                "    at java.util.Properties.writeComments(Properties.java:671)",
                "    at java.util.Properties.store0(Properties.java:805)",
                "    at java.util.Properties.store(Properties.java:796)",
                "    at org.apache.kahadb.page.PageFile.storeMetaData(PageFile.java:570)",
                "    at org.apache.kahadb.page.PageFile.load(PageFile.java:361)",
                "    at org.apache.activemq.store.kahadb.plist.PListStore.intialize(PListStore.java:285)",
                "    at org.apache.activemq.store.kahadb.plist.PListStore.getPList(PListStore.java:218)",
                "    at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.getDiskList(FilePendingMessageCursor.java:457)",
                "    at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.flushToDisk(FilePendingMessageCursor.java:435)",
                "    at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.onUsageChanged(FilePendingMessageCursor.java:388)",
                "    at org.apache.activemq.usage.Usage$1.run(Usage.java:268)",
                "    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)",
                "    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)",
                "    at java.lang.Thread.run(Thread.java:619)",
                "Exception in thread \"Usage Async Task\" java.lang.RuntimeException: java.lang.NullPointerException",
                "    at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.getDiskList(FilePendingMessageCursor.java:460)",
                "    ... (additional stack trace lines omitted for brevity)"
            ],
            "StepsToReproduce": [
                "1. Set up a single-consumer queue for non-persistent messages in ActiveMQ.",
                "2. Enable file cursor for managing the backlog.",
                "3. Send a burst of messages to the queue.",
                "4. Monitor the logs for NullPointerExceptions."
            ],
            "ExpectedBehavior": "The system should process messages without throwing NullPointerExceptions, and the DiskList for the pending cursor should be retrieved successfully.",
            "ObservedBehavior": "NullPointerExceptions are thrown during message processing, causing disruptions in the message handling flow.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-6831.json",
        "creation_time": "2017-10-09T10:35:53.000+0000",
        "bug_report": {
            "BugID": "AMQ-6831",
            "Title": "Broker Fails to Start Due to Missing/Corrupt Journal Files After Upgrade to 5.15.1",
            "Description": "After upgrading to ActiveMQ version 5.15.1, the broker fails to start and throws an error regarding missing or corrupt journal files. Downgrading to version 5.15.0 resolves the issue. This is an embedded broker setup.",
            "StackTrace": [
                "2017-10-09 12:29:36.802 ERROR 4197 --- [pool-3-thread-1] org.deku.leoz.node.Application           : java.io.IOException: Detected missing/corrupt journal files referenced by:[0:ActiveMQ.DLQ] 3 messages affected.",
                "java.lang.Error: java.io.IOException: Detected missing/corrupt journal files referenced by:[0:ActiveMQ.DLQ] 3 messages affected.",
                "at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1148) ~[na:1.8.0_131]",
                "at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_131]",
                "at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_131]",
                "Caused by: java.io.IOException: Detected missing/corrupt journal files referenced by:[0:ActiveMQ.DLQ] 3 messages affected.",
                "at org.apache.activemq.store.kahadb.MessageDatabase.recoverIndex(MessageDatabase.java:965) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.store.kahadb.MessageDatabase$5.execute(MessageDatabase.java:717) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.store.kahadb.disk.page.Transaction.execute(Transaction.java:779) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.store.kahadb.MessageDatabase.recover(MessageDatabase.java:714) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.store.kahadb.MessageDatabase.open(MessageDatabase.java:473) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.store.kahadb.MessageDatabase.load(MessageDatabase.java:493) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.store.kahadb.MessageDatabase.doStart(MessageDatabase.java:297) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.store.kahadb.KahaDBStore.doStart(KahaDBStore.java:219) ~[activemq-kahadb-store-5.15.1.jar:5.15.1]",
                "at org.apache.activemq.util.ServiceSupport.start(ServiceSupport.java:55) ~[activemq-client-5.15.1.jar:5.15.1]"
            ],
            "StepsToReproduce": [
                "Upgrade ActiveMQ to version 5.15.1.",
                "Start the embedded broker."
            ],
            "ExpectedBehavior": "The broker should start without errors.",
            "ObservedBehavior": "The broker fails to start and logs an error about missing/corrupt journal files.",
            "Resolution": "Downgrading to version 5.15.0 resolves the issue."
        }
    },
    {
        "filename": "AMQ-5525.json",
        "creation_time": "2015-01-19T13:47:50.000+0000",
        "bug_report": {
            "BugID": "AMQ-5525",
            "Title": "Error Converting Collection Entry in ActiveMQ Browse Command",
            "Description": "The ActiveMQ browse command fails with an error indicating an inability to convert a collection entry. This issue occurs during integration tests when executing the command with specific parameters.",
            "StackTrace": [
                "java.lang.Exception: Unable to convert from [--amqurl, tcp://localhost:61616, --user, karaf, --password, karaf, -Vbody, 1421674680492] to java.util.ArrayList<java.lang.String>(error converting collection entry)",
                "at org.apache.aries.blueprint.container.AggregateConverter.convertToCollection(AggregateConverter.java:342)",
                "at org.apache.aries.blueprint.container.AggregateConverter.convert(AggregateConverter.java:182)",
                "at org.apache.activemq.karaf.commands.ActiveMQCommand$ActiveMQActionPreparator.convert(ActiveMQCommand.java:143)",
                "at org.apache.activemq.karaf.commands.ActiveMQCommand$ActiveMQActionPreparator.prepare(ActiveMQCommand.java:134)",
                "at org.apache.felix.gogo.commands.basic.AbstractCommand.execute(AbstractCommand.java:34)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethod)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)",
                "at java.lang.reflect.Method.invoke(Method.java:606)",
                "at org.apache.aries.proxy.impl.ProxyHandler$1.invoke(ProxyHandler.java:54)",
                "at org.apache.aries.proxy.impl.ProxyHandler.invoke(ProxyHandler.java:119)",
                "at org.apache.activemq.karaf.commands.$ActiveMQCommand695030723.execute(Unknown Source)",
                "at org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:78)",
                "at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:477)",
                "at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:403)",
                "at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)",
                "at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)",
                "at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)",
                "at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:92)",
                "at org.apache.activemq.karaf.itest.AbstractFeatureTest$1$1.run(AbstractFeatureTest.java:125)",
                "at org.apache.activemq.karaf.itest.AbstractFeatureTest$1$1.run(AbstractFeatureTest.java:117)",
                "at java.security.AccessController.doPrivileged(Native Method)",
                "at javax.security.auth.Subject.doAs(Subject.java:356)",
                "at org.apache.activemq.karaf.itest.AbstractFeatureTest$1.call(AbstractFeatureTest.java:117)",
                "at org.apache.activemq.karaf.itest.AbstractFeatureTest$1.call(AbstractFeatureTest.java:109)",
                "at java.util.concurrent.FutureTask.run(FutureTask.java:262)",
                "at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)",
                "at java.util.concurrent.FutureTask.run(FutureTask.java:262)",
                "at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)",
                "at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)",
                "at java.lang.Thread.run(Thread.java:745)",
                "Caused by: java.lang.Exception: Unable to convert value 1421674680492 to type java.lang.String",
                "at org.apache.aries.blueprint.container.AggregateConverter.convert(AggregateConverter.java:184)",
                "at org.apache.aries.blueprint.container.AggregateConverter.convertToCollection(AggregateConverter.java:340)"
            ],
            "StepsToReproduce": [
                "Execute the command: activemq:browse --amqurl tcp://localhost:61616 --user karaf --password karaf -Vbody 1421674680492",
                "Observe the error message returned."
            ],
            "ExpectedBehavior": "The command should successfully execute and return the expected results without any conversion errors.",
            "ObservedBehavior": "The command fails with an error indicating an inability to convert the provided parameters into a collection.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-4118.json",
        "creation_time": "2012-10-19T22:14:13.000+0000",
        "bug_report": {
            "BugID": "AMQ-4118",
            "Title": "Index Page Overflow Causes Duplicate Free Calls in KahaDB",
            "Description": "An overflowed chain is released when it is no longer needed, but the new end page was not stored in the cache. The old value as a part page is reused and freed again, leading to errors. Keeping the cache in sync resolves this issue. A workaround is to disable the index page cache with a small indexCacheSize. The issue is more visible with durable subscriptions, where failure symptoms vary with usage, including ClassCastExceptions and NullPointerExceptions when the page is reused in the wrong context or a free page is loaded from disk.",
            "StackTrace": [
                "2012-10-19 22:25:11,928 [exPageUsage#5-2] - ERROR MessageDatabase - KahaDB failed to store to Journal",
                "java.io.EOFException: Chunk stream does not exist, page: 1344 is marked free",
                "at org.apache.kahadb.page.Transaction$2.readPage(Transaction.java:481)",
                "at org.apache.kahadb.page.Transaction$2.<init>(Transaction.java:458)",
                "at org.apache.kahadb.page.Transaction.openInputStream(Transaction.java:455)",
                "at org.apache.kahadb.page.Transaction.load(Transaction.java:431)",
                "at org.apache.kahadb.page.Transaction.load(Transaction.java:388)",
                "at org.apache.kahadb.index.BTreeIndex.loadNode(BTreeIndex.java:262)",
                "at org.apache.kahadb.index.BTreeNode.getChild(BTreeNode.java:225)",
                "at org.apache.kahadb.index.BTreeNode.getLeafNode(BTreeNode.java:680)",
                "at org.apache.kahadb.index.BTreeNode.get(BTreeNode.java:562)",
                "at org.apache.kahadb.index.BTreeIndex.get(BTreeIndex.java:184)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex.get(MessageDatabase.java:2616)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.updateIndex(MessageDatabase.java:1210)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$15.execute(MessageDatabase.java:1002)",
                "at org.apache.kahadb.page.Transaction.execute(Transaction.java:790)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:1000)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$13.visit(MessageDatabase.java:933)",
                "at org.apache.activemq.store.kahadb.data.KahaRemoveMessageCommand.visit(KahaRemoveMessageCommand.java:220)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:925)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:837)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:819)",
                "at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBTopicMessageStore.doAcknowledge(KahaDBStore.java:723)",
                "at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBTopicMessageStore.acknowledge(KahaDBStore.java:706)",
                "at org.apache.activemq.store.kahadb.KahaDBTransactionStore.acknowledge(KahaDBTransactionStore.java:519)",
                "at org.apache.activemq.store.kahadb.KahaDBTransactionStore$2.acknowledge(KahaDBTransactionStore.java:222)",
                "at org.apache.activemq.broker.region.Topic.acknowledge(Topic.java:528)",
                "at org.apache.activemq.broker.region.DurableTopicSubscription.acknowledge(DurableTopicSubscription.java:279)",
                "java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.String",
                "at java.lang.String.compareTo(String.java:92)",
                "at java.util.Arrays.binarySearch0(Arrays.java:2001)",
                "at java.util.Arrays.binarySearch(Arrays.java:1943)",
                "at org.apache.kahadb.index.BTreeNode.put(BTreeNode.java:371)",
                "at org.apache.kahadb.index.BTreeNode.put(BTreeNode.java:369)",
                "at org.apache.kahadb.index.BTreeIndex.put(BTreeIndex.java:189)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex.put(MessageDatabase.java:2592)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.updateIndex(MessageDatabase.java:1168)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$AddOperation.execute(MessageDatabase.java:2082)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$18.execute(MessageDatabase.java:1095)",
                "at org.apache.kahadb.page.Transaction.execute(Transaction.java:768)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:1092)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$13.visit(MessageDatabase.java:961)",
                "at org.apache.activemq.store.kahadb.data.KahaCommitCommand.visit(KahaCommitCommand.java:130)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:943)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:855)",
                "at org.apache.activemq.store.kahadb.KahaDBTransactionStore.commit(KahaDBTransactionStore.java:267)",
                "java.lang.NullPointerException",
                "at org.apache.kahadb.index.BTreeIndex.loadNode(BTreeIndex.java:264)",
                "at org.apache.kahadb.index.BTreeNode.getChild(BTreeNode.java:225)",
                "at org.apache.kahadb.index.BTreeNode.getLeafNode(BTreeNode.java:676)",
                "at org.apache.kahadb.index.BTreeNode.put(BTreeNode.java:369)",
                "at org.apache.kahadb.index.BTreeIndex.put(BTreeIndex.java:189)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex.put(MessageDatabase.java:2592)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.updateIndex(MessageDatabase.java:1168)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$AddOperation.execute(MessageDatabase.java:2082)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$18.execute(MessageDatabase.java:1095)",
                "at org.apache.kahadb.page.Transaction.execute(Transaction.java:768)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:1092)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$13.visit(MessageDatabase.java:961)",
                "at org.apache.activemq.store.kahadb.data.KahaCommitCommand.visit(KahaCommitCommand.java:130)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.process(MessageDatabase.java:943)",
                "at org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:855)",
                "at org.apache.activemq.store.kahadb.KahaDBTransactionStore.commit(KahaDBTransactionStore.java:267)"
            ],
            "StepsToReproduce": [
                "Enable durable subscriptions with large backlogs.",
                "Perform operations that lead to index page overflow.",
                "Observe the logs for errors related to chunk streams and ClassCastExceptions."
            ],
            "ExpectedBehavior": "The index page should handle overflow gracefully without causing duplicate free calls or exceptions.",
            "ObservedBehavior": "The system throws ClassCastExceptions and NullPointerExceptions, leading to instability and potential data loss.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-4092.json",
        "creation_time": "2012-10-04T02:56:44.000+0000",
        "bug_report": {
            "BugID": "AMQ-4092",
            "Title": "ConcurrentModificationException Occurs When Using Message Groups in ActiveMQ",
            "Description": "While consuming messages from a queue with the message groups header (JMSXGroupID) set, frequent WARN messages are logged indicating a ConcurrentModificationException. Disabling the message groups header eliminates these warnings. No specific errors are observed in the application itself, only these log messages.",
            "StackTrace": [
                "2012-10-04 02:34:02,552 |  WARN - Service              - | Async error occurred: java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException",
                "java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException",
                "\tat java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)",
                "\tat java.util.concurrent.FutureTask.get(FutureTask.java:83)",
                "\tat org.apache.activemq.broker.region.Queue.doMessageSend(Queue.java:785)",
                "\tat org.apache.activemq.broker.region.Queue.send(Queue.java:707)",
                "\tat org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:407)",
                "\tat org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:503)",
                "\tat org.apache.activemq.broker.jmx.ManagedRegionBroker.send(ManagedRegionBroker.java:305)",
                "\tat org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:129)",
                "\tat org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)",
                "\tat org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:306)",
                "\tat org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:135)",
                "\tat org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:453)",
                "\tat org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:681)",
                "\tat org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:292)",
                "\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:150)",
                "\tat org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116)",
                "\tat org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "\tat org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:231)",
                "\tat org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)",
                "\tat org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)",
                "\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)",
                "\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)",
                "\tat java.lang.Thread.run(Thread.java:680)",
                "Caused by: java.util.ConcurrentModificationException",
                "\tat java.util.HashMap$HashIterator.nextEntry(HashMap.java:793)",
                "\tat java.util.HashMap$KeyIterator.next(HashMap.java:828)",
                "\tat org.apache.activemq.util.MarshallingSupport.marshalPrimitiveMap(MarshallingSupport.java:64)",
                "\tat org.apache.activemq.command.Message.beforeMarshall(Message.java:210)",
                "\tat org.apache.activemq.command.ActiveMQObjectMessage.beforeMarshall(ActiveMQObjectMessage.java:199)",
                "\tat org.apache.activemq.openwire.v6.MessageMarshaller.looseMarshal(MessageMarshaller.java:277)",
                "\tat org.apache.activemq.openwire.v6.ActiveMQMessageMarshaller.looseMarshal(ActiveMQMessageMarshaller.java:111)",
                "\tat org.apache.activemq.openwire.v6.ActiveMQObjectMessageMarshaller.looseMarshal(ActiveMQObjectMessageMarshaller.java:111)",
                "\tat org.apache.activemq.openwire.OpenWireFormat.marshal(OpenWireFormat.java:168)",
                "\tat org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.addMessage(KahaDBStore.java:429)",
                "\tat org.apache.activemq.store.kahadb.KahaDBStore$StoreQueueTask.run(KahaDBStore.java:1177)",
                "\t... 3 more"
            ],
            "StepsToReproduce": [
                "Set up an ActiveMQ 5.6.0 standalone instance with kahadb persistence.",
                "Configure a Spring JMSTemplate producer to send ObjectMessage.",
                "Create a Camel 2.9.2 route consumer using AMQ connection pool with vm transport.",
                "Set the JMSXGroupID header for the messages being sent.",
                "Consume messages from the queue with maxConcurrentConsumers set to 5."
            ],
            "ExpectedBehavior": "No WARN messages should be logged when consuming messages with the JMSXGroupID header set.",
            "ObservedBehavior": "Frequent WARN messages indicating a ConcurrentModificationException are logged during message consumption.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3887.json",
        "creation_time": "2012-06-18T16:02:55.000+0000",
        "bug_report": {
            "BugID": "AMQ-3887",
            "Title": "Null Pointer Exception Occurs During NetworkConnector Initialization",
            "Description": "While starting a duplex NetworkConnector, a Null Pointer Exception (NPE) can be observed on the receiving side. This issue appears to be a race condition, making it difficult to reproduce reliably. The NPE occurs when the producerInfo is accessed in the configureMessage method before it is initialized in startRemoteBridge.",
            "StackTrace": [
                "java.lang.NullPointerException: null",
                "at org.apache.activemq.network.DemandForwardingBridgeSupport.configureMessage(DemandForwardingBridgeSupport.java:644) ~[activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.network.DemandForwardingBridgeSupport.serviceLocalCommand(DemandForwardingBridgeSupport.java:675) ~[activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.network.DemandForwardingBridgeSupport$1.onCommand(DemandForwardingBridgeSupport.java:139) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.transport.vm.VMTransport.doDispatch(VMTransport.java:135) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.transport.vm.VMTransport.dispatch(VMTransport.java:124) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:103) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:1307) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.broker.TransportConnection.processDispatch(TransportConnection.java:837) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.broker.TransportConnection.iterate(TransportConnection.java:872) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122) [activemq-core-5.6.0.jar:5.6.0]",
                "at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43) [activemq-core-5.6.0.jar:5.6.0]",
                "at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) [na:1.6.0_20]",
                "at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.6.0_20]",
                "at java.lang.Thread.run(Unknown Source) [na:1.6.0_20]"
            ],
            "StepsToReproduce": [
                "1. Start a duplex NetworkConnector.",
                "2. Monitor the logs for any Null Pointer Exceptions.",
                "3. Observe the behavior when multiple brokers are connecting simultaneously."
            ],
            "ExpectedBehavior": "The NetworkConnector should initialize without throwing a Null Pointer Exception.",
            "ObservedBehavior": "A Null Pointer Exception is thrown during the initialization of the NetworkConnector, particularly when multiple brokers are connecting.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-6451.json",
        "creation_time": "2016-10-03T17:09:00.000+0000",
        "bug_report": {
            "BugID": "AMQ-6451",
            "Title": "OutOfMemoryError due to Direct Buffer Memory Leak with Preallocation Strategy Set to 'zeros'",
            "Description": "When the preallocationStrategy is set to 'zeros', ActiveMQ can intermittently fail to allocate direct buffer memory with the default JVM settings. This unhandled exception leads to the creation of empty journal files and, more critically, results in a file descriptor leak. Eventually, ActiveMQ runs out of file descriptors and crashes. The issue may require better handling of this condition and possibly adjusting the default ACTIVEMQ_OPTS_MEMORY settings to accommodate multiple log files being created simultaneously.",
            "StackTrace": [
                "java.lang.OutOfMemoryError: Direct buffer memory",
                "at java.nio.Bits.reserveMemory(Bits.java:693)[:1.8.0_101]",
                "at java.nio.DirectByteBuffer.<init>(DirectByteBuffer.java:123)[:1.8.0_101]",
                "at java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:311)[:1.8.0_101]",
                "at sun.nio.ch.Util.getTemporaryDirectBuffer(Util.java:174)[:1.8.0_101]",
                "at sun.nio.ch.IOUtil.write(IOUtil.java:58)[:1.8.0_101]",
                "at sun.nio.ch.FileChannelImpl.write(FileChannelImpl.java:211)[:1.8.0_101]",
                "at org.apache.activemq.store.kahadb.disk.journal.Journal.doPreallocationZeros(Journal.java:366)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.disk.journal.Journal.preallocateEntireJournalDataFile(Journal.java:333)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.disk.journal.Journal.newDataFile(Journal.java:631)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.disk.journal.Journal.rotateWriteFile(Journal.java:595)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.disk.journal.Journal.getCurrentDataFile(Journal.java:984)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.disk.journal.DataFileAppender.enqueue(DataFileAppender.java:189)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.disk.journal.DataFileAppender.storeItem(DataFileAppender.java:128)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.disk.journal.Journal.write(Journal.java:890)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:1108)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.MessageDatabase.store(MessageDatabase.java:1090)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.store.kahadb.KahaDBTransactionStore.commit(KahaDBTransactionStore.java:301)[activemq-kahadb-store-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transaction.LocalTransaction.commit(LocalTransaction.java:70)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.broker.TransactionBroker.commitTransaction(TransactionBroker.java:252)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.broker.BrokerFilter.commitTransaction(BrokerFilter.java:113)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.broker.BrokerFilter.commitTransaction(BrokerFilter.java:113)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:118)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.broker.TransportConnection.processCommitTransactionOnePhase(TransportConnection.java:535)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:100)[activemq-client-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:333)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:197)[activemq-broker-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)[activemq-client-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:125)[activemq-client-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:300)[activemq-client-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)[activemq-client-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transport.tcp.SslTransport.doConsume(SslTransport.java:108)[activemq-client-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:233)[activemq-client-5.14.0.jar:5.14.0]",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)[activemq-client-5.14.0.jar:5.14.0]",
                "at java.lang.Thread.run(Thread.java:745)[:1.8.0_101]"
            ],
            "StepsToReproduce": [
                "Set the preallocationStrategy to 'zeros' in ActiveMQ configuration.",
                "Start ActiveMQ with default JVM settings.",
                "Monitor the system for memory allocation and file descriptor usage."
            ],
            "ExpectedBehavior": "ActiveMQ should allocate direct buffer memory without running out of file descriptors, and journal files should not be empty.",
            "ObservedBehavior": "ActiveMQ intermittently fails to allocate direct buffer memory, leading to empty journal files and eventual crashes due to file descriptor exhaustion.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3393.json",
        "creation_time": "2011-07-05T14:31:31.000+0000",
        "bug_report": {
            "BugID": "AMQ-3393",
            "Title": "Memory Leak Due to Dangling STOMP Transport Connections",
            "Description": "Rapid connect/disconnect can result in dangling STOMP transport connection MBeans which eventually accumulate. This issue occurs when a disconnect happens before a broker connection has been fully initiated, leading to a registration failure of MBeans.",
            "StackTrace": [
                "javax.management.InstanceAlreadyExistsException: org.apache.activemq:BrokerName=xx,Type=Connection,ConnectorName=stomp,ViewType=address,Name=/xx_52170",
                "\tat com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:453)",
                "\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.internal_addObject(DefaultMBeanServerInterceptor.java:1484)",
                "\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:963)",
                "\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:917)",
                "\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:312)",
                "\tat com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:482)",
                "\tat org.apache.activemq.broker.jmx.ManagementContext.registerMBean(ManagementContext.java:299)",
                "\tat org.apache.activemq.broker.jmx.AnnotatedMBean.registerMBean(AnnotatedMBean.java:65)",
                "\tat org.apache.activemq.broker.jmx.ManagedTransportConnection.registerMBean(ManagedTransportConnection.java:99)",
                "\tat org.apache.activemq.broker.jmx.ManagedTransportConnection.<init>(ManagedTransportConnection.java:57)",
                "\tat org.apache.activemq.broker.jmx.ManagedTransportConnector.createConnection(ManagedTransportConnector.java:52)",
                "\tat org.apache.activemq.broker.TransportConnector$1$1.run(TransportConnector.java:216)",
                "\tat java.lang.Thread.run(Thread)"
            ],
            "StepsToReproduce": [
                "1. Establish a STOMP connection to the broker.",
                "2. Rapidly disconnect the STOMP connection before the broker connection is fully initiated.",
                "3. Monitor the MBeans for connection registrations."
            ],
            "ExpectedBehavior": "MBeans should register and unregister correctly without causing any memory leaks.",
            "ObservedBehavior": "MBeans fail to unregister, leading to an accumulation of dangling connections and potential memory leaks.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-5815.json",
        "creation_time": "2015-06-01T12:21:13.000+0000",
        "bug_report": {
            "BugID": "AMQ-5815",
            "Title": "High Concurrency Causes IOExceptions and Deadlocks in ActiveMQ with KahaDB",
            "Description": "When the concurrency level is high (IOPS exceeding 3000/s), many ActiveMQ connections become blocked, preventing data retrieval or submission until a restart occurs. This issue is frequently observed and is accompanied by numerous IOExceptions in the ActiveMQ logs, which may lead to the loss of persistent messages.",
            "StackTrace": [
                "2015-05-28 00:37:08,544 | ERROR | Checkpoint failed | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker",
                "java.io.IOException: Input/output error",
                "    at java.io.RandomAccessFile.write(Native Method)[:1.6.0_30]",
                "    at java.io.RandomAccessFile.writeLong(RandomAccessFile.java:1001)[:1.6.0_30]",
                "    at org.apache.activemq.util.RecoverableRandomAccessFile.writeLong(RecoverableRandomAccessFile.java:305)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.disk.page.PageFile.writeBatch(PageFile.java:1062)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.disk.page.PageFile.flush(PageFile.java:516)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1512)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.MessageDatabase$17.execute(MessageDatabase.java:1484)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.disk.page.Transaction.execute(Transaction.java:779)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1481)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.MessageDatabase.checkpointCleanup(MessageDatabase.java:929)[activemq-kahadb-store-5.10.0.jar:5.10.0]",
                "    at org.apache.activemq.store.kahadb.MessageDatabase$3.run(MessageDatabase.java:357)[activemq-kahadb-store-5.10.0.jar:5.10.0]"
            ],
            "StepsToReproduce": [
                "Set up ActiveMQ with KahaDB on a NAS using NFS.",
                "Increase the concurrency level to exceed 3000 IOPS.",
                "Attempt to push and retrieve data through ActiveMQ connections."
            ],
            "ExpectedBehavior": "ActiveMQ should handle high concurrency without blocking connections or throwing IOExceptions.",
            "ObservedBehavior": "ActiveMQ connections become blocked, and IOExceptions are logged, preventing data operations until a restart.",
            "Resolution": "The issue has been resolved in version 5.15.0."
        }
    },
    {
        "filename": "AMQ-5141.json",
        "creation_time": "2014-04-11T11:31:51.000+0000",
        "bug_report": {
            "BugID": "AMQ-5141",
            "Title": "SecurityException when broker sends expired messages to DLQ using client credentials",
            "Description": "When the broker handles a RemoveInfo command, it may trigger a message expiry check for prefetched messages. If messages are expired, they are sent to ActiveMQ.DLQ by default. If the broker is security-enabled with authorization turned on, the broker uses the client's security context to send messages to DLQ. This requires all client users to have write access to ActiveMQ.DLQ, which may not be appropriate from a security standpoint. The broker should use its internal security context instead of the client's when expiring messages as part of the RemoveInfo command.",
            "StackTrace": [
                "2014-04-11 08:11:22,229 | WARN  | 2.38:61201@61616 | RegionBroker | ivemq.broker.region.RegionBroker  703 |",
                "105 - org.apache.activemq.activemq-osgi - 5.8.0.redhat-60024 | Caught an exception sending to DLQ: Message ID:S930A3085-50865-635327964441522304-1:1:363:2:1 dropped=false acked=false locked=true",
                "java.lang.SecurityException: User Test is not authorized to write to: queue://ActiveMQ.DLQ",
                "at org.apache.activemq.security.AuthorizationBroker.send(AuthorizationBroker.java:197)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:135)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.util.BrokerSupport.doResend(BrokerSupport.java:68)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.util.BrokerSupport.resendNoCopy(BrokerSupport.java:38)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.region.RegionBroker.sendToDeadLetterQueue(RegionBroker.java:691)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.BrokerFilter.sendToDeadLetterQueue(BrokerFilter.java:262)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.MutableBrokerFilter.sendToDeadLetterQueue(MutableBrokerFilter.java:274)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.region.Queue.messageExpired(Queue.java:1671)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.region.PrefetchSubscription.dispatchPending(PrefetchSubscription.java:648)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.region.Queue.doDispatch(Queue.java:1834)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:380)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at org.apache.activemq.broker.TransportConnection.processRemoveConsumer(TransportConnection.java:651)[105:org.apache.activemq.activemq-osgi:5.8.0.redhat-60024]",
                "at java.lang.Thread.run(Unknown Source)[:1.6.0_26]"
            ],
            "StepsToReproduce": [
                "1. Enable security on the broker with authorization turned on.",
                "2. Send messages to the broker and ensure some are prefetched.",
                "3. Trigger a RemoveInfo command that leads to message expiry.",
                "4. Observe the behavior when messages are sent to ActiveMQ.DLQ."
            ],
            "ExpectedBehavior": "The broker should use its internal security context to send expired messages to ActiveMQ.DLQ, regardless of the client's permissions.",
            "ObservedBehavior": "The broker raises a SecurityException if the client user does not have write access to ActiveMQ.DLQ.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-5854.json",
        "creation_time": "2015-06-19T15:36:33.000+0000",
        "bug_report": {
            "BugID": "AMQ-5854",
            "Title": "Duplicate Messages Occur During Failover in Two-Phase Commit",
            "Description": "This issue arises when using Spring DMLC to read a JMS message from a queue, produce a JMS message in an output queue, and write data to a database. High CPU usage causes the inactivity monitor to close connections between clients and the broker while processing messages, leading to duplicate message processing.",
            "StackTrace": [
                "org.apache.activemq.transport.InactivityIOException: Channel was inactive for too (>30000) long: tcp://***",
                "javax.jms.JMSException: Unmatched acknowledge: MessageAck {commandId = 6665, responseRequired = false, ackType = 2, consumerId = ID:***, firstMessageId = ID:***-50800-1433109620591-1:2:31356:1:1, lastMessageId = ID:***-50800-1433109620591-1:2:31356:1:1, destination = queue://***, transactionId = XID:[1096044365,globalId=47524f55505f3030303038736572766963657472616974656d656e7431363536373030343133,branchId=47524f55505f3030303038736572766963657472616974656d656e743137343737], messageCount = 1, poisonCause = null}; Could not find Message-ID ID:***-50800-1433109620591-1:2:31356:1:1 in dispatched-list (start of ack)",
                "org.apache.activemq.transport.AbstractInactivityMonitor.doOnewaySend(AbstractInactivityMonitor.java:297)",
                "org.apache.activemq.transport.AbstractInactivityMonitor.oneway(AbstractInactivityMonitor.java:286)",
                "org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:85)",
                "org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:104)",
                "org.apache.activemq.transport.failover.FailoverTransport.oneway(FailoverTransport.java:658)",
                "org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)",
                "org.apache.activemq.transport.ResponseCorrelator.oneway(ResponseCorrelator.java:60)",
                "org.apache.activemq.ActiveMQConnection.doAsyncSendPacket(ActiveMQConnection.java:1321)",
                "org.apache.activemq.ActiveMQConnection.asyncSendPacket(ActiveMQConnection.java:1315)",
                "org.apache.activemq.ActiveMQSession.asyncSendPacket(ActiveMQSession.java:1933)",
                "org.apache.activemq.ActiveMQSession.sendAck(ActiveMQSession.java:2099)",
                "org.apache.activemq.ActiveMQMessageConsumer.acknowledge(ActiveMQMessageConsumer.java:1083)",
                "com.atomikos.datasource.xa.XAResourceTransaction.suspend(XAResourceTransaction.java:457)",
                "com.atomikos.datasource.xa.XAResourceTransaction.prepare(XAResourceTransaction.java:608)",
                "com.atomikos.icatch.imp.PrepareMessage.send(PrepareMessage.java:61)",
                "com.atomikos.icatch.imp.PropagationMessage.submit(PropagationMessage.java:111)",
                "com.atomikos.icatch.imp.Propagator$PropagatorThread.run(Propagator.java:87)",
                "com.atomikos.icatch.imp.Propagator.submitPropagationMessage(Propagator.java:66)",
                "com.atomikos.icatch.imp.ActiveStateHandler.prepare(ActiveStateHandler.java:173)",
                "com.atomikos.icatch.imp.CoordinatorImp.prepare(CoordinatorImp.java:832)",
                "com.atomikos.icatch.imp.CoordinatorImp.terminate(CoordinatorImp.java:1159)",
                "com.atomikos.icatch.jta.TransactionImp.commit(TransactionImp.java:236)",
                "org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1011)",
                "org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755)",
                "org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)",
                "org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257)",
                "org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1101)",
                "org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:995)",
                "java.lang.Thread.run(Thread.java:761)"
            ],
            "StepsToReproduce": [
                "Set up a Spring DMLC to read a JMS message from a queue.",
                "Produce a JMS message in an output queue and write data to a database.",
                "Configure the broker with transport.useKeepAlive=false.",
                "Set the client configuration wireFormat.maxInactivityDuration=5000.",
                "Introduce a delay in the acknowledge method of ActiveMQMessageConsumer to simulate failover.",
                "Process multiple messages to observe the behavior."
            ],
            "ExpectedBehavior": "Messages should be processed once without duplication, even during failover.",
            "ObservedBehavior": "One message is processed twice by two different consumers, leading to duplicate inserts in the database and multiple output JMS messages generated.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3056.json",
        "creation_time": "2010-11-26T14:36:24.000+0000",
        "bug_report": {
            "BugID": "AMQ-3056",
            "Title": "JMSException: Invalid acknowledgment during Redelivery ack processing",
            "Description": "An error occurs when processing a redelivery acknowledgment in the ActiveMQ broker, resulting in a JMSException. This issue affects message acknowledgment in the topic subscription.",
            "StackTrace": [
                "javax.jms.JMSException: Invalid acknowledgment: MessageAck {commandId = 29455, responseRequired = false, ackType = 3, consumerId = ID:X-2506-1289583778418-0:0:1:1, firstMessageId = ID:X09-51821-634249796434830099-1:5:1:3:313195, lastMessageId = ID:X09-51821-634249796434830099-1:5:1:3:313195, destination = topic://help.Publish.Instance1, transactionId = null, messageCount = 1}",
                "at org.apache.activemq.broker.region.TopicSubscription.acknowledge(TopicSubscription.java:286)",
                "at org.apache.activemq.broker.region.AbstractRegion.acknowledge(AbstractRegion.java:383)",
                "at org.apache.activemq.broker.region.RegionBroker.acknowledge(RegionBroker.java:544)",
                "at org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:77)",
                "at org.apache.activemq.broker.TransactionBroker.acknowledge(TransactionBroker.java:200)",
                "at org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:77)",
                "at org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:77)",
                "at org.apache.activemq.broker.MutableBrokerFilter.acknowledge(MutableBrokerFilter.java:87)",
                "at org.apache.activemq.broker.TransportConnection.processMessageAck(TransportConnection.java:469)",
                "at org.apache.activemq.command.MessageAck.visit(MessageAck.java:214)",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:311)",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:185)",
                "at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:69)",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "at org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:228)",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:220)",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:202)",
                "at java.lang.Thread.run(Thread.java:619)"
            ],
            "StepsToReproduce": [
                "1. Set up an ActiveMQ broker with a topic subscription.",
                "2. Send a message to the topic.",
                "3. Trigger a redelivery acknowledgment for the message.",
                "4. Observe the logs for any JMSException related to invalid acknowledgment."
            ],
            "ExpectedBehavior": "The acknowledgment should be processed without any exceptions, allowing the message to be successfully acknowledged.",
            "ObservedBehavior": "A JMSException is thrown indicating an invalid acknowledgment, preventing the message from being acknowledged.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3325.json",
        "creation_time": "2011-05-17T08:58:50.000+0000",
        "bug_report": {
            "BugID": "AMQ-3325",
            "Title": "Concurrency Issue: Chunk Stream Does Not Exist Under Load",
            "Description": "This bug report describes a concurrency issue occurring in the ActiveMQ broker when under load, particularly with multicore systems. The issue manifests sporadically and is related to memory limits and dynamic destination creation/deletion.",
            "StackTrace": [
                "2011-04-07 08:04:07,295 [Queue:loadq-4  ] ERROR FilePendingMessageCursor - I/O error",
                "java.io.EOFException: Chunk stream does not exist at page: 198",
                "at org.apache.kahadb.page.Transaction$2.readPage(Transaction.java:454)",
                "at org.apache.kahadb.page.Transaction$2.<init>(Transaction.java:431)",
                "at org.apache.kahadb.page.Transaction.openInputStream(Transaction.java:428)",
                "at org.apache.kahadb.page.Transaction.load(Transaction.java:404)",
                "at org.apache.kahadb.page.Transaction.load(Transaction.java:361)",
                "at org.apache.activemq.store.kahadb.plist.PList.loadEntry(PList.java:468)",
                "at org.apache.activemq.store.kahadb.plist.PList.getNext(PList.java:483)",
                "at org.apache.activemq.store.kahadb.plist.PList$10.execute(PList.java:312)",
                "at org.apache.kahadb.page.Transaction.execute(Transaction.java:728)",
                "at org.apache.activemq.store.kahadb.plist.PList.getNext(PList.java:310)",
                "at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor$DiskIterator.next(FilePendingMessageCursor.java:500)",
                "at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor$DiskIterator.next(FilePendingMessageCursor.java:473)",
                "at org.apache.activemq.broker.region.cursors.FilePendingMessageCursor.next(FilePendingMessageCursor.java:293)",
                "at org.apache.activemq.broker.region.Queue.doPageInForDispatch(Queue.java:1714)",
                "at org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1932)",
                "at org.apache.activemq.broker.region.Queue.iterate(Queue.java:1440)",
                "at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:104)",
                "at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:42)"
            ],
            "StepsToReproduce": [
                "1. Set up an ActiveMQ broker on a multicore system with at least 8 CPUs.",
                "2. Configure the broker to handle a high load of messages.",
                "3. Monitor the broker for sporadic occurrences of the error."
            ],
            "ExpectedBehavior": "The ActiveMQ broker should handle message processing without encountering I/O errors related to chunk streams.",
            "ObservedBehavior": "The broker throws an EOFException indicating that a chunk stream does not exist at a specific page when under load.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-2963.json",
        "creation_time": "2010-10-07T06:52:51.000+0000",
        "bug_report": {
            "BugID": "AMQ-2963",
            "Title": "JMSBridgeConnectors Fails with IBM MQ and ActiveMQ 5.4.0",
            "Description": "When attempting to create a bridge between IBM Websphere Queue and ActiveMQ queue using JMSBridgeConnectors, an error occurs in ActiveMQ version 5.4.0 that does not occur in version 5.2.0. The error message indicates that the destination name is invalid due to a change in how JMS properties are set in the ActiveMQ codebase.",
            "StackTrace": [
                "com.ibm.msg.client.jms.DetailedInvalidDestinationException: JMSCMQ0005: The destination name '://IBM.TO.ACTIVEMQ' was not valid. The destination name specified does not conform to published destination syntax. Correct the specified destination name and try again.",
                "at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)",
                "at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)",
                "at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)",
                "at java.lang.reflect.Constructor.newInstance(Constructor.java:513)",
                "at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:313)",
                "at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:388)",
                "at com.ibm.msg.client.wmq.common.internal.WMQDestinationURIParser.setUri(WMQDestinationURIParser.java:524)",
                "at com.ibm.msg.client.wmq.common.internal.WMQDestination.<init>(WMQDestination.java:3148)",
                "at com.ibm.msg.client.wmq.common.internal.WMQDestination.<init>(WMQDestination.java:3104)",
                "at com.ibm.msg.client.wmq.factories.WMQFactoryFactory.createProviderDestination(WMQFactoryFactory.java:444)",
                "at com.ibm.msg.client.jms.admin.JmsDestinationImpl.setProviderDestination(JmsDestinationImpl.java:333)",
                "at com.ibm.msg.client.jms.admin.JmsDestinationImpl.initialise(JmsDestinationImpl.java:231)",
                "at com.ibm.msg.client.jms.admin.JmsDestinationImpl.<init>(JmsDestinationImpl.java:196)",
                "at com.ibm.msg.client.jms.admin.JmsJndiDestinationImpl.<init>(JmsJndiDestinationImpl.java:129)",
                "at com.ibm.mq.jms.MQDestination.<init>(MQDestination.java:186)",
                "at com.ibm.msg.client.wmq.factories.admin.WMQJmsFactory.createDestination(WMQJmsFactory.java:125)",
                "at com.ibm.msg.client.jms.internal.JmsMessageImpl.providerDestToJmsDest(JmsMessageImpl.java:2111)",
                "at com.ibm.msg.client.jms.internal.JmsMessageImpl.getJMSDestination(JmsMessageImpl.java:686)",
                "at org.apache.activemq.ActiveMQMessageTransformation.copyProperties(ActiveMQMessageTransformation.java:206)",
                "at org.apache.activemq.ActiveMQMessageTransformation.transformMessage(ActiveMQMessageTransformation.java:188)",
                "at org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1720)",
                "at org.apache.activemq.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:231)",
                "at org.apache.activemq.ActiveMQMessageProducerSupport.send(ActiveMQMessageProducerSupport.java:300)",
                "at org.apache.activemq.ActiveMQQueueSender.send(ActiveMQQueueSender.java:111)",
                "at org.apache.activemq.network.jms.QueueBridge.sendMessage(QueueBridge.java:80)",
                "at org.apache.activemq.network.jms.DestinationBridge.onMessage(DestinationBridge.java:129)",
                "at com.ibm.mq.jms.MQMessageConsumer$FacadeMessageListener.onMessage(MQMessageConsumer.java:399)",
                "at com.ibm.msg.client.jms.internal.JmsMessageConsumerImpl$JmsProviderMessageListener.onMessage(JmsMessageConsumerImpl.java:904)",
                "at com.ibm.msg.client.wmq.internal.WMQAsyncConsumerShadow.honourNoLocal(WMQAsyncConsumerShadow.java:550)",
                "at com.ibm.msg.client.wmq.internal.WMQAsyncConsumerShadow.consumer(WMQAsyncConsumerShadow.java:384)",
                "at com.ibm.mq.jmqi.remote.internal.RemoteAsyncConsume.driveConsumer(RemoteAsyncConsume.java:1478)",
                "at com.ibm.mq.jmqi.remote.internal.RemoteDispatchThread.run(RemoteDispatchThread.java:385)",
                "at com.ibm.msg.client.commonservices.workqueue.WorkQueueItem.runTask(WorkQueueItem.java:209)",
                "at com.ibm.msg.client.commonservices.workqueue.SimpleWorkQueueItem.runItem(SimpleWorkQueueItem.java:100)",
                "at com.ibm.msg.client.commonservices.workqueue.WorkQueueItem.run(WorkQueueItem.java:224)",
                "at com.ibm.msg.client.commonservices.workqueue.WorkQueueManager.runWorkQueueItem(WorkQueueManager.java:298)",
                "at com.ibm.msg.client.commonservices.j2se.workqueue.WorkQueueManagerImplementation$ThreadPoolWorker.run(WorkQueueManagerImplementation.java:1220)"
            ],
            "StepsToReproduce": [
                "Define a broker in activemq.xml with the following jmsBridgeConnectors information:",
                "<jmsBridgeConnectors>",
                "    <jmsQueueConnector outboundQueueConnectionFactory=\"#remoteFactory\">",
                "        <inboundQueueBridges>",
                "            <inboundQueueBridge inboundQueueName=\"IBM.TO.ACTIVEMQ\" localQueueName=\"IBM.TO.ACTIVEMQ\"/>",
                "        </inboundQueueBridges>",
                "    </jmsQueueConnector>",
                "</jmsBridgeConnectors>",
                "Attempt to send a message to the IBM queue."
            ],
            "ExpectedBehavior": "The message should be sent successfully to the IBM queue without any errors.",
            "ObservedBehavior": "An error occurs indicating that the destination name is invalid.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3903.json",
        "creation_time": "2012-06-28T14:09:35.000+0000",
        "bug_report": {
            "BugID": "AMQ-3903",
            "Title": "NullPointerException when firing fast producer advisory in ActiveMQ",
            "Description": "When sending a large number of messages to the queue via the web console with the configuration `advisoryForFastProducers=\"true\"`, a `NullPointerException` occurs, preventing the advisory from being fired.",
            "StackTrace": [
                "java.lang.NullPointerException",
                "at org.apache.activemq.advisory.AdvisorySupport.getFastProducerAdvisoryTopic(AdvisorySupport.java:195)",
                "at org.apache.activemq.advisory.AdvisoryBroker.fastProducer(AdvisoryBroker.java:352)",
                "at org.apache.activemq.broker.BrokerFilter.fastProducer(BrokerFilter.java:275)",
                "at org.apache.activemq.broker.BrokerFilter.fastProducer(BrokerFilter.java:275)",
                "at org.apache.activemq.broker.MutableBrokerFilter.fastProducer(MutableBrokerFilter.java:286)",
                "at org.apache.activemq.broker.region.BaseDestination.fastProducer(BaseDestination.java:512)",
                "at org.apache.activemq.broker.region.Queue.send(Queue.java:605)",
                "at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:407)",
                "at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:503)",
                "at org.apache.activemq.broker.jmx.ManagedRegionBroker.send(ManagedRegionBroker.java:305)",
                "at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:129)",
                "at org.apache.activemq.broker.scheduler.SchedulerBroker.send(SchedulerBroker.java:189)",
                "at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:129)",
                "at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)",
                "at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:306)",
                "at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:135)",
                "at org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:453)",
                "at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:681)",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:292)",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:150)",
                "at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116)",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:231)",
                "at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)",
                "at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)"
            ],
            "StepsToReproduce": [
                "1. Configure ActiveMQ with `advisoryForFastProducers=\"true\"`.",
                "2. Use the web console to send a large number of messages to a queue.",
                "3. Observe the logs for any exceptions."
            ],
            "ExpectedBehavior": "The fast producer advisory should be fired without any exceptions.",
            "ObservedBehavior": "A `NullPointerException` is thrown, preventing the advisory from being fired.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-2693.json",
        "creation_time": "2010-04-12T13:58:58.000+0000",
        "bug_report": {
            "BugID": "AMQ-2693",
            "Title": "Potential Deadlock During Failover with Outstanding Commit",
            "Description": "This issue describes a potential deadlock situation that occurs during failover when there is an outstanding commit. The log indicates that dispatch is paused while waiting for outstanding dispatch interruption processing to complete.",
            "StackTrace": [
                "Full thread dump Java HotSpot(TM) Server VM (14.0-b16 mixed mode):",
                "\"ActiveMQ Transport: tcp:///127.0.0.1:49284\" daemon prio=3 tid=0x0068f800 nid=0x32 runnable [0x56ffe000]",
                "   java.lang.Thread.State: RUNNABLE",
                "\tat java.net.SocketOutputStream.socketWrite0(Native Method)",
                "\tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)",
                "\tat java.net.SocketOutputStream.write(SocketOutputStream.java:136)",
                "\tat org.apache.activemq.transport.tcp.TcpBufferedOutputStream.flush(TcpBufferedOutputStream.java:115)",
                "\tat java.io.DataOutputStream.flush(DataOutputStream.java:106)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.oneway(TcpTransport.java:168)",
                "\tat org.apache.activemq.transport.InactivityMonitor.oneway(InactivityMonitor.java:243)",
                "\tat org.apache.activemq.transport.TransportFilter.oneway(TransportFilter.java:83)",
                "\tat org.apache.activemq.transport.WireFormatNegotiator.oneway(WireFormatNegotiator.java:104)",
                "\tat org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:40)",
                "\tat org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:1205)",
                "\tat org.apache.activemq.broker.TransportConnection.processDispatch(TransportConnection.java:790)",
                "\tat org.apache.activemq.broker.TransportConnection.dispatchSync(TransportConnection.java:750)",
                "\tat org.apache.activemq.broker.region.PrefetchSubscription.dispatch(PrefetchSubscription.java:647)",
                "\tat org.apache.activemq.broker.region.PrefetchSubscription.dispatchPending(PrefetchSubscription.java:592)",
                "\tat org.apache.activemq.broker.region.PrefetchSubscription.add(PrefetchSubscription.java:158)",
                "\tat org.apache.activemq.broker.region.Queue.doActualDispatch(Queue.java:1548)",
                "\tat org.apache.activemq.broker.region.Queue.doDispatch(Queue.java:1500)",
                "\tat org.apache.activemq.broker.region.Queue.pageInMessages(Queue.java:1585)",
                "\tat org.apache.activemq.broker.region.Queue.iterate(Queue.java:1219)",
                "\tat org.apache.activemq.broker.region.Queue.wakeup(Queue.java:1406)",
                "\tat org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:377)",
                "\tat org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:279)",
                "\tat org.apache.activemq.broker.region.RegionBroker.addConsumer(RegionBroker.java:380)",
                "\tat org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)",
                "\tat org.apache.activemq.broker.MutableBrokerFilter.addConsumer(MutableBrokerFilter.java:93)",
                "\tat org.apache.activemq.broker.TransportConnection.processAddConsumer(TransportConnection.java:533)",
                "\tat org.apache.activemq.command.ConsumerInfo.visit(ConsumerInfo.java:349)",
                "\tat org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:300)",
                "\tat org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:178)",
                "\tat org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)",
                "\tat org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "\tat org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:216)",
                "\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:84)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:204)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:186)",
                "\tat java.lang.Thread.run(Thread.java:619)",
                "\"ActiveMQ Transport: tcp://localhost/127.0.0.1:61616\" prio=3 tid=0x007c9000 nid=0x2e waiting on condition [0x569fe000]",
                "   java.lang.Thread.State: TIMED_WAITING (parking)",
                "\tat sun.misc.Unsafe.park(Native Method)",
                "\tat java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:198)",
                "\tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:947)",
                "\tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:253)",
                "\tat org.apache.activemq.ActiveMQConnection.waitForTransportInterruptionProcessing(ActiveMQConnection.java:2248)",
                "\tat org.apache.activemq.ActiveMQConnection$2.processMessageDispatch(ActiveMQConnection.java:1679)",
                "\tat org.apache.activemq.command.MessageDispatch.visit(MessageDispatch.java:108)",
                "\tat org.apache.activemq.ActiveMQConnection.onCommand(ActiveMQConnection.java:1676)",
                "\tat org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116)",
                "\tat org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)",
                "\tat org.apache.activemq.transport.failover.FailoverTransport$3.onCommand(FailoverTransport.java:168)",
                "\tat org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "\tat org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:216)",
                "\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:84)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:204)",
                "\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:186)",
                "\tat java.lang.Thread.run(Thread.java:619)",
                "\"ActiveMQ Session Task\" prio=3 tid=0x0076f000 nid=0x25 waiting on condition [0x55ffe000]",
                "   java.lang.Thread.State: WAITING (parking)",
                "\tat sun.misc.Unsafe.park(Native Method)",
                "\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)",
                "\tat java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:317)",
                "\tat org.apache.activemq.transport.FutureResponse.getResult(FutureResponse.java:40)",
                "\tat org.apache.activemq.transport.ResponseCorrelator.request(ResponseCorrelator.java:87)",
                "\tat org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1262)",
                "\tat org.apache.activemq.TransactionContext.syncSendPacketWithInterruptionHandling(TransactionContext.java:666)",
                "\tat org.apache.activemq.TransactionContext.commit(TransactionContext.java:299)",
                "\tat org.apache.activemq.ActiveMQSession.commit(ActiveMQSession.java:558)",
                "\tat org.apache.activemq.transport.failover.FailoverConsumerOutstandingCommitTest$2.onMessage(FailoverConsumerOutstandingCommitTest.java:155)",
                "\tat org.apache.activemq.ActiveMQMessageConsumer.dispatch(ActiveMQMessageConsumer.java:1204)",
                "\tat org.apache.activemq.ActiveMQSessionExecutor.dispatch(ActiveMQSessionExecutor.java:131)",
                "\tat org.apache.activemq.ActiveMQSessionExecutor.iterate(ActiveMQSessionExecutor.java:202)",
                "\tat org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)",
                "\tat org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)",
                "\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)",
                "\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)",
                "\tat java.lang.Thread.run(Thread.java:619)",
                "\"ActiveMQ Scheduler\" daemon prio=3 tid=0x006e4c00 nid=0xf waiting for monitor entry [0x573ff000]",
                "   java.lang.Thread.State: BLOCKED (on object monitor)",
                "\tat org.apache.activemq.ActiveMQMessageConsumer.clearMessagesInProgress(ActiveMQMessageConsumer.java:661)",
                "\tat org.apache.activemq.ActiveMQSession$2.run(ActiveMQSession.java:654)",
                "\tat org.apache.activemq.thread.SchedulerTimerTask.run(SchedulerTimerTask.java:33)",
                "\tat java.util.TimerThread.mainLoop(Timer.java:512)",
                "\tat java.util.TimerThread.run(Timer.java:462)",
                "\"main\" prio=3 tid=0x00030800 nid=0x2 waiting for monitor entry [0x7eb7d000]",
                "   java.lang.Thread.State: BLOCKED (on object monitor)",
                "\tat org.apache.activemq.MessageDispatchChannel.stop(MessageDispatchChannel.java:115)",
                "\tat org.apache.activemq.ActiveMQMessageConsumer.stop(ActiveMQMessageConsumer.java:1312)",
                "\tat org.apache.activemq.ActiveMQSession.stop(ActiveMQSession.java:1643)",
                "\tat org.apache.activemq.ActiveMQConnection.stop(ActiveMQConnection.java:544)",
                "\tat org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:597)",
                "\tat org.apache.activemq.transport.failover.FailoverConsumerOutstandingCommitTest.doTestFailoverConsumerDups(FailoverConsumerOutstandingCommitTest.java:185)",
                "\tat org.apache.activemq.transport.failover.FailoverConsumerOutstandingCommitTest.testFailoverConsumerDups(FailoverConsumerOutstandingCommitTest.java:104)",
                "\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "\tat sun.reflect.NativeMethodAccessorImpl.invoke(Native Method)",
                "\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)",
                "\tat java.lang.reflect.Method.invoke(Method.java:597)",
                "\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)",
                "\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)",
                "\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)",
                "\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)",
                "\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.evaluate:28)",
                "\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.evaluate:31)",
                "\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:73)",
                "\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:46)",
                "\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:180)",
                "\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:41)",
                "\tat org.junit.runners.ParentRunner$1.evaluate(ParentRunner.java:173)",
                "\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.evaluate:28)",
                "\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.evaluate:31)",
                "\tat org.junit.runners.ParentRunner.run(ParentRunner.java:220)",
                "\tat org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)",
                "\tat org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)",
                "\tat org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:165)",
                "\tat org.apache.maven.surefire.Surefire.run(Surefire.java:107)",
                "\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "\tat sun.reflect.NativeMethodAccessorImpl.invoke(Native Method)",
                "\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)",
                "\tat java.lang.reflect.Method.invoke(Method.java:597)",
                "\tat org.apache.maven.surefire.booter.runSuitesInProcess(SurefireBooter.runSuitesInProcess:289)",
                "\tat org.apache.maven.surefire.booter.main.SurefireBooter.main(SurefireBooter.main:1005)"
            ],
            "StepsToReproduce": [
                "1. Set up a test environment with ActiveMQ.",
                "2. Create a scenario that involves failover and transactions.",
                "3. Introduce a delay in thread creation to simulate a slow environment.",
                "4. Trigger a failover while there is an outstanding commit."
            ],
            "ExpectedBehavior": "The system should handle failover gracefully without entering a deadlock state.",
            "ObservedBehavior": "The system enters a deadlock state, causing dispatch to be paused and blocking further processing.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-4643.json",
        "creation_time": "2013-07-19T13:39:19.000+0000",
        "bug_report": {
            "BugID": "AMQ-4643",
            "Title": "JDBCPersistence DB Shutdown During Message Send Causes JMSException",
            "Description": "This issue relates to AMQ-4636, specifically regarding the behavior of the JDBCIOExceptionHandler when the underlying database is shut down during message sending. The expected behavior is that the transport connectors should shut down without reporting an IOException/SQLException to the producer.",
            "StackTrace": [
                "2013-07-19 15:22:05,436 [main           ] - ERROR pDBDuringProducerSendTopicTest - unexpected exception caught",
                "javax.jms.JMSException: Database 'target/derbydb_15' not found.",
                "at org.apache.activemq.util.JMSExceptionSupport.create(JMSExceptionSupport.java:54)",
                "at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1391)",
                "at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1319)",
                "at org.apache.activemq.ActiveMQSession.send(ActiveMQSession.java:1809)",
                "at org.apache.activemq.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:289)",
                "at org.apache.activemq.ActiveMQMessageProducer.send(ActiveMQMessageProducer.java:224)",
                "at org.apache.activemq.ActiveMQMessageProducerSupport.send(ActiveMQMessageProducerSupport.java:241)",
                "at org.apache.activemq.store.jdbc.StopDBDuringProducerSendTopicTest.sendMessage(StopDBDuringProducerSendTopicTest.java:150)",
                "at org.apache.activemq.store.jdbc.StopDBDuringProducerSendTopicTest.testProducerWithDBShutdown(StopDBDuringProducerSendTopicTest.java:127)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)",
                "at java.lang.reflect.Method.invoke(Method.java:597)",
                "at junit.framework.TestCase.runTest(TestCase.java:176)",
                "at junit.framework.TestCase.runBare(TestCase.java:141)",
                "at junit.framework.TestResult$1.protect(TestResult.java:122)",
                "at junit.framework.TestResult.runProtected(TestResult.java:142)",
                "at junit.framework.TestResult.run(TestResult.java:125)",
                "at junit.framework.TestCase.run(TestCase.java:129)",
                "at junit.framework.TestSuite.runTest(TestSuite.java:255)",
                "at junit.framework.TestSuite.run(TestSuite.java:250)",
                "at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)",
                "at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)",
                "at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)",
                "at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)",
                "at java.lang.reflect.Method.invoke(Method.java:597)",
                "at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)",
                "at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)",
                "at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)",
                "at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:81)",
                "at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)",
                "Caused by: java.io.IOException: Database 'target/derbydb_15' not found.",
                "at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:45)",
                "at org.apache.activemq.store.jdbc.TransactionContext.getConnection(TransactionContext.java:68)",
                "at org.apache.activemq.store.jdbc.adapter.DefaultJDBCAdapter.doAddMessage(DefaultJDBCAdapter.java:218)",
                "at org.apache.activemq.store.jdbc.JDBCMessageStore.addMessage(JDBCMessageStore.java:123)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore.addMessage(MemoryTransactionStore.java:327)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore$2.asyncAddTopicMessage(MemoryTransactionStore.java:190)",
                "at org.apache.activemq.broker.region.Topic.doMessageSend(Topic.java:482)",
                "at org.apache.activemq.broker.region.Topic.send(Topic.java:446)",
                "at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:406)",
                "at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:431)",
                "at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:147)",
                "at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)",
                "at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:317)",
                "at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:152)",
                "at org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:464)",
                "at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:751)",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:294)",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:149)",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:288)",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:214)",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)",
                "at java.lang.Thread.run(Thread.java:680)",
                "Caused by: java.sql.SQLException: Database 'target/derbydb_15' not found.",
                "at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)",
                "at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)",
                "at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)",
                "at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)",
                "at org.apache.derby.impl.jdbc.EmbedConnection.newSQLException(Unknown Source)",
                "at org.apache.derby.impl.jdbc.EmbedConnection.handleDBNotFound(Unknown Source)",
                "at org.apache.derby.impl.jdbc.EmbedConnection.<init>(Unknown Source)",
                "at org.apache.derby.impl.jdbc.EmbedConnection30.<init>(Unknown Source)",
                "at org.apache.derby.impl.jdbc.EmbedConnection40.<init>(Unknown Source)",
                "at org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Unknown Source)",
                "at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)",
                "at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)",
                "at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)",
                "at org.apache.activemq.store.jdbc.StopDBDuringProducerSendTopicTest$ReconnectingEmbeddedDataSource.getConnection(StopDBDuringProducerSendTopicTest.java:242)",
                "at org.apache.activemq.store.jdbc.TransactionContext.getConnection(TransactionContext.java:58)",
                "... 23 more",
                "Caused by: java.lang.Throwable: org.apache.derby.impl.jdbc.EmbedSQLException: Database 'target/derbydb_15' not found.",
                "at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)",
                "at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)",
                "... 38 more"
            ],
            "StepsToReproduce": [
                "1. Configure JDBCIOExceptionHandler.",
                "2. Start the producer to send a persistent message.",
                "3. Shut down the underlying database during the message send."
            ],
            "ExpectedBehavior": "The transport connectors should shut down without reporting an IOException/SQLException to the producer.",
            "ObservedBehavior": "The broker either sends an IOException/SQLException wrapped in a JMSException back to the client or shuts down the transport connector when the exception is encountered.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-2902.json",
        "creation_time": "2010-09-07T11:34:15.000+0000",
        "bug_report": {
            "BugID": "AMQ-2902",
            "Title": "Confusing INFO level exceptions logged after upgrading to ActiveMQ 5.4.0",
            "Description": "After upgrading to ActiveMQ version 5.4.0, numerous exceptions are logged at the INFO level, which are confusing and annoying to users. The messages indicate that a transport connection has been disposed, but the underlying cause appears to be harmless.",
            "StackTrace": [
                "2010-09-07 13:23:25,824 INFO  [org.apache.activemq.broker.TransportConnection.Transport] Transport failed: org.apache.activemq.transport.TransportDisposedIOException: Peer (vm://caa.embedded?waitForStart=300000&async=false#13) disposed.",
                "org.apache.activemq.transport.TransportDisposedIOException: Peer (vm://caa.embedded?waitForStart=300000&async=false#13) disposed.",
                "at org.apache.activemq.transport.vm.VMTransport.stop(VMTransport.java:159)",
                "at org.apache.activemq.transport.vm.VMTransportServer$1.stop(VMTransportServer.java:81)",
                "at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:65)",
                "at org.apache.activemq.transport.TransportFilter.stop(TransportFilter.java:65)",
                "at org.apache.activemq.transport.ResponseCorrelator.stop(ResponseCorrelator.java:132)",
                "at org.apache.activemq.util.ServiceSupport.dispose(ServiceSupport.java:43)",
                "at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:656)",
                "at org.apache.activemq.ra.ActiveMQManagedConnection.destroy(ActiveMQManagedConnection.java:207)",
                "at org.jboss.resource.connectionmanager.InternalManagedConnectionPool.doDestroy(InternalManagedConnectionPool.java:650)",
                "at org.jboss.resource.connectionmanager.InternalManagedConnectionPool.removeTimedOut(InternalManagedConnectionPool.java:481)",
                "at org.jboss.resource.connectionmanager.IdleRemover$IdleRemoverRunnable.run(IdleRemover.java:164)",
                "at java.lang.Thread.run(Thread.java:619)"
            ],
            "StepsToReproduce": [
                "Upgrade ActiveMQ to version 5.4.0.",
                "Run the application with an embedded broker within JBoss 4.2.3.",
                "Monitor the logs for any INFO level messages related to transport connections."
            ],
            "ExpectedBehavior": "No confusing INFO level exceptions should be logged during normal operation.",
            "ObservedBehavior": "Multiple INFO level exceptions are logged indicating that transport connections have been disposed, which are confusing to users.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-5665.json",
        "creation_time": "2015-03-16T21:35:15.000+0000",
        "bug_report": {
            "BugID": "AMQ-5665",
            "Title": "NullPointerException in AdvisoryBroker due to MemoryTransactionStore in ActiveMQ 5.11.0",
            "Description": "In ActiveMQ version 5.11.0, a NullPointerException occurs in the AdvisoryBroker when using a non-persistent broker. This issue seems to be introduced in this version, as it does not occur in 5.10.2. The problem arises when advisories fail to fire due to a null message context being passed to the addMessage method.",
            "StackTrace": [
                "java.lang.NullPointerException",
                "at org.apache.activemq.advisory.AdvisoryBroker.fireAdvisory(AdvisoryBroker.java:626)",
                "at org.apache.activemq.advisory.AdvisoryBroker.messageDelivered(AdvisoryBroker.java:397)",
                "at org.apache.activemq.broker.BrokerFilter.messageDelivered(BrokerFilter.java:349)",
                "at org.apache.activemq.broker.BrokerFilter.messageDelivered(BrokerFilter.java:349)",
                "at org.apache.activemq.broker.MutableBrokerFilter.messageDelivered(MutableBrokerFilter.java:360)",
                "at org.apache.activemq.broker.MutableBrokerFilter.messageDelivered(MutableBrokerFilter.java:360)",
                "at org.apache.activemq.broker.region.BaseDestination.messageDelivered(BaseDestination.java:518)",
                "at org.apache.activemq.broker.region.Queue.messageSent(Queue.java:1806)",
                "at org.apache.activemq.broker.region.Queue.doPendingCursorAdditions(Queue.java:794)",
                "at org.apache.activemq.broker.region.Queue.orderedCursorAdd(Queue.java:875)",
                "at org.apache.activemq.broker.region.Queue.doMessageSend(Queue.java:854)",
                "at org.apache.activemq.broker.region.Queue.send(Queue.java:733)",
                "at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:419)",
                "at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:468)",
                "at org.apache.activemq.broker.jmx.ManagedRegionBroker.send(ManagedRegionBroker.java:297)",
                "at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:152)",
                "at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)",
                "at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:307)",
                "at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:157)",
                "at org.apache.activemq.broker.MutableBrokerFilter.send(MutableBrokerFilter.java:157)",
                "at org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:541)",
                "at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:768)",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:334)",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:188)",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:270)",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:214)",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)",
                "at java.lang.Thread.run(Thread.java:724)"
            ],
            "StepsToReproduce": [
                "1. Set up a non-persistent broker using ActiveMQ 5.11.0.",
                "2. Attempt to send a message that should trigger an advisory.",
                "3. Observe the logs for any warnings or errors."
            ],
            "ExpectedBehavior": "Advisories should fire correctly without any exceptions.",
            "ObservedBehavior": "Advisories fail to fire, resulting in a NullPointerException in the logs.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3725.json",
        "creation_time": "2012-02-17T18:57:21.000+0000",
        "bug_report": {
            "BugID": "AMQ-3725",
            "Title": "KahaDB Termination During SAN Failover",
            "Description": "An issue arises that causes the broker to terminate when using kahaDB with a SAN during failover. The failover process is seamless, but on failback, there is a 2-3 second delay where writes are blocked, leading to broker termination. Unlike the JDBC datastore, which can handle this situation using the IOExceptionHandler, kahaDB retains an invalid index when the same handler is applied.",
            "StackTrace": [
                "ERROR | KahaDB failed to store to Journal",
                "java.io.SyncFailedException: sync failed",
                "\tat java.io.FileDescriptor.sync(Native Method)",
                "\tat org.apache.kahadb.journal.DataFileAppender.processQueue(DataFileAppender.java:382)",
                "\tat org.apache.kahadb.journal.DataFileAppender$2.run(DataFileAppender.java:203)",
                "ERROR | Checkpoint failed",
                "java.io.FileNotFoundException: /Volumes/NAS-01/data/kahadb/db-1.log (No such file or directory)",
                "\tat java.io.RandomAccessFile.open(Native Method)",
                "\tat java.io.RandomAccessFile.<init>(RandomAccessFile.java:216)",
                "\tat org.apache.kahadb.journal.DataFile.openRandomAccessFile(DataFile.java:70)",
                "\tat org.apache.kahadb.journal.DataFileAppender.processQueue(DataFileAppender.java:324)",
                "\tat org.apache.kahadb.journal.DataFileAppender$2.run(DataFileAppender.java:203)",
                "ERROR | Checkpoint failed",
                "java.io.IOException: Input/output error",
                "\tat java.io.RandomAccessFile.write(Native Method)",
                "\tat java.io.RandomAccessFile.writeLong(RandomAccessFile.java:1001)",
                "\tat org.apache.kahadb.page.PageFile.writeBatch(PageFile.java:1006)",
                "\tat org.apache.kahadb.page.PageFile.flush(PageFile.java:484)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase.checkpointUpdate(MessageDatabase.java:1290)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase$10.execute(MessageDatabase.java:768)",
                "\tat org.apache.kahadb.page.Transaction.execute(Transaction.java:760)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase.checkpointCleanup(MessageDatabase.java:766)",
                "\tat org.apache.activemq.store.kahadb.MessageDatabase$3.run(MessageDatabase.java:315)"
            ],
            "StepsToReproduce": [
                "1. Configure ActiveMQ to use kahaDB with a SAN.",
                "2. Simulate a SAN failover.",
                "3. Observe the broker's behavior during the failback process."
            ],
            "ExpectedBehavior": "The broker should handle the failback process without terminating and should maintain a valid index.",
            "ObservedBehavior": "The broker terminates during the failback process due to blocked writes, and kahaDB retains an invalid index.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3085.json",
        "creation_time": "2010-12-15T12:18:12.000+0000",
        "bug_report": {
            "BugID": "AMQ-3085",
            "Title": "IndexOutOfBoundsException in FailoverTransport.updateURIs due to UnknownHostException",
            "Description": "The broker returned hosts that are not resolvable on the client, causing the update logic in the failover transport to fail. Disabling updates works around this issue (set updateURIsSupported=false on the failover URI). It should also be possible to disable sending on the broker side.\n\n**Symptom:**\nA debug log shows the following exception:\n\n```\n2010-12-10 07:48:16,574 [ActiveMQ Transport: tcp://xx:61616] DEBUG  failover.FailoverTransport:228 - Transport failed with the following exception:\njava.io.IOException: Unexpected error occurred\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:208) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat java.lang.Thread.run(Thread.java:619) [na:1.6.0_12]\nCaused by: java.lang.IndexOutOfBoundsException: Index: 12, Size: 11\n\tat java.util.concurrent.CopyOnWriteArrayList.add(CopyOnWriteArrayList.java:409) ~[na:1.6.0_12]\n\tat org.apache.activemq.transport.failover.FailoverTransport.add(FailoverTransport.java:613) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.failover.FailoverTransport.updateURIs(FailoverTransport.java:1046) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.failover.FailoverTransport.processNewTransports(FailoverTransport.java:285) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.failover.FailoverTransport.handleConnectionControl(FailoverTransport.java:265) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.failover.FailoverTransport$3.onCommand(FailoverTransport.java:177) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:228) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:219) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\tat org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:201) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]\n\t... 1 common frames omitted\n```\n",
            "StackTrace": [
                "java.io.IOException: Unexpected error occurred",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:208) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at java.lang.Thread.run(Thread.java:619) [na:1.6.0_12]",
                "Caused by: java.lang.IndexOutOfBoundsException: Index: 12, Size: 11",
                "at java.util.concurrent.CopyOnWriteArrayList.add(CopyOnWriteArrayList.java:409) ~[na:1.6.0_12]",
                "at org.apache.activemq.transport.failover.FailoverTransport.add(FailoverTransport.java:613) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.failover.FailoverTransport.updateURIs(FailoverTransport.java:1046) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.failover.FailoverTransport.processNewTransports(FailoverTransport.java:285) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.failover.FailoverTransport.handleConnectionControl(FailoverTransport.java:265) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.failover.FailoverTransport$3.onCommand(FailoverTransport.java:177) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityMonitor.java:228) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:219) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:201) ~[activemq-core-5.4.1.jar:5.4.1-fuse-01-00]"
            ],
            "StepsToReproduce": [
                "1. Configure the broker to return hosts that are not resolvable.",
                "2. Attempt to connect using the failover transport.",
                "3. Observe the logs for exceptions."
            ],
            "ExpectedBehavior": "The failover transport should handle unknown hosts gracefully without throwing an IndexOutOfBoundsException.",
            "ObservedBehavior": "An IndexOutOfBoundsException is thrown when the failover transport attempts to update URIs with unknown hosts.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-3504.json",
        "creation_time": "2011-09-19T14:33:49.000+0000",
        "bug_report": {
            "BugID": "AMQ-3504",
            "Title": "NullPointerException on WebSocket Connection in Chrome and Firefox 6",
            "Description": "When connecting to the ActiveMQ server using WebSockets from Chrome or Firefox 6, a NullPointerException occurs. This issue does not occur in Firefox 5 or Safari. It is suspected that the newer versions of Chrome and Firefox are implementing a WebSocket specification that is incompatible with the version used by ActiveMQ.",
            "StackTrace": [
                "2011-09-19 09:18:33,931 | WARN  | /stomp | org.eclipse.jetty.util.log | qtp1545215993-39",
                "java.lang.NullPointerException",
                "    at org.apache.activemq.transport.ws.StompServlet.doGet(StompServlet.java:51)",
                "    at javax.servlet.http.HttpServlet.service(HttpServlet.java:693)",
                "    at org.eclipse.jetty.websocket.WebSocketServlet.service(WebSocketServlet.java:73)",
                "    at javax.servlet.http.HttpServlet.service(HttpServlet.java:806)",
                "    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:527)",
                "    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:423)",
                "    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)",
                "    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:930)",
                "    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:358)",
                "    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:183)",
                "    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:866)",
                "    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)",
                "    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:113)",
                "    at org.eclipse.jetty.server.Server.handle(Server.java:351)",
                "    at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:594)",
                "    at org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:1042)",
                "    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:549)",
                "    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:211)",
                "    at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:424)",
                "    at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:241)",
                "    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:436)",
                "    at java.lang.Thread.run(Thread.java:680)"
            ],
            "StepsToReproduce": [
                "1. Open Chrome or Firefox 6.",
                "2. Attempt to connect to the ActiveMQ server using WebSockets.",
                "3. Observe the console for any errors."
            ],
            "ExpectedBehavior": "The WebSocket connection should be established without any errors.",
            "ObservedBehavior": "A NullPointerException is thrown, preventing the WebSocket connection from being established.",
            "Resolution": "Fixed"
        }
    },
    {
        "filename": "AMQ-6707.json",
        "creation_time": "2017-06-19T11:29:47.000+0000",
        "bug_report": {
            "BugID": "AMQ-6707",
            "Title": "JDBC XA Transaction Commit Failure with ActiveMQ 5.14.5",
            "Description": "When ActiveMQ 5.14.5 is configured with JDBC persistence storage (Postgres), an error occurs intermittently during transaction commits. The error message indicates a failure to remove the prepared transaction state from the message.",
            "StackTrace": [
                "2017-06-15 01:41:37,418 | ERROR | enerContainer-21 | CommitTask                       | 67 - org.apache.aries.transaction.manager - 1.3.1 | Unexpected exception committing org.apache.geronimo.transaction.manager.WrapperNamedXAResource@34ac9d62; continuing to commit other RMs",
                "javax.transaction.xa.XAException: STORE COMMIT FAILED: Transaction rolled back xaErrorCode:104",
                "at org.apache.activemq.TransactionContext.toXAException(TransactionContext.java:793)",
                "at org.apache.activemq.TransactionContext.commit(TransactionContext.java:622)",
                "at org.apache.geronimo.transaction.manager.WrapperNamedXAResource.commit(WrapperNamedXAResource.java:54)",
                "at org.apache.geronimo.transaction.manager.CommitTask.run(CommitTask.java:64)",
                "at org.apache.geronimo.transaction.manager.TransactionImpl.commitResources(TransactionImpl.java:688)",
                "at org.apache.geronimo.transaction.manager.TransactionImpl.commit(TransactionImpl.java:327)",
                "at org.apache.geronimo.transaction.manager.TransactionManagerImpl.commit(TransactionManagerImpl.java:252)",
                "at org.springframework.transaction.jta.JtaTransactionManager.doCommit(JtaTransactionManager.java:1020)",
                "at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:761)",
                "at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:730)",
                "at org.apache.aries.transaction.internal.AriesPlatformTransactionManager.commit(AriesPlatformTransactionManager.java:75)",
                "at sun.reflect.GeneratedMethodAccessor180.invoke(Unknown Source)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[:1.8.0_131]",
                "at java.lang.reflect.Method.invoke(Method.java:498)[:1.8.0_131]",
                "at com.ectsp.spring.osgi.PlatformTransactionManagerFactoryBean$ProxyTxManagerHandler.invoke(PlatformTransactionManagerFactoryBean.java:115)[169:ectsp-spring-osgi:1.0.0.SNAPSHOT]",
                "at com.sun.proxy.$Proxy68.commit(Unknown Source)[100:org.apache.servicemix.bundles.spring-tx:4.2.8.RELEASE_1]",
                "at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)[97:org.apache.servicemix.bundles.spring-jms:4.2.8.RELEASE_1]",
                "at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1164)[97:org.apache.servicemix.bundles.spring-jms:4.2.8.RELEASE_1]",
                "at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1156)[97:org.apache.servicemix.bundles.spring-jms:4.2.8.RELEASE_1]",
                "at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1053)[97:org.apache.servicemix.bundles.spring-jms:4.2.8.RELEASE_1]",
                "at java.lang.Thread.run(Thread.java:748)[:1.8.0_131]",
                "Caused by: javax.transaction.xa.XAException: STORE COMMIT FAILED: Transaction rolled back xaErrorCode:104",
                "at org.apache.activemq.transaction.Transaction.newXAException(Transaction.java:212)",
                "at org.apache.activemq.transaction.XATransaction.storeCommit(XATransaction.java:93)",
                "at org.apache.activemq.transaction.XATransaction.commit(XATransaction.java:76)",
                "at org.apache.activemq.broker.TransactionBroker.commitTransaction(TransactionBroker.java:252)",
                "at org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:118)",
                "at org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:118)",
                "at org.apache.activemq.broker.TransportConnection.processCommitTransactionTwoPhase(TransportConnection.java:547)",
                "at org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:102)",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:336)",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:200)",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:125)",
                "at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:301)",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:233)[47:org.apache.activemq.activemq-osgi:5.14.5]",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)[47:org.apache.activemq.activemq-osgi:5.14.5]",
                "at java.lang.Thread.run(Thread.java:745)[:1.8.0_131]",
                "Caused by: java.io.IOException: Could not remove prepared transaction state from message add for sequenceId: 4025171",
                "at org.apache.activemq.store.jdbc.adapter.DefaultJDBCAdapter.doCommitAddOp(DefaultJDBCAdapter.java:1031)",
                "at org.apache.activemq.store.jdbc.JDBCPersistenceAdapter.commitAdd(JDBCPersistenceAdapter.java:780)",
                "at org.apache.activemq.store.jdbc.JdbcMemoryTransactionStore$CommitAddOutcome.run(JdbcMemoryTransactionStore.java:146)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore$Tx.commit(MemoryTransactionStore.java:101)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore.commit(MemoryTransactionStore.java:270)",
                "at org.apache.activemq.transaction.XATransaction.storeCommit(XATransaction.java:86)",
                "... 15 more"
            ],
            "StepsToReproduce": [
                "Configure ActiveMQ 5.14.5 with JDBC persistence storage using Postgres.",
                "Perform a series of transactions that involve committing messages.",
                "Monitor the logs for errors related to transaction commits."
            ],
            "ExpectedBehavior": "Transactions should commit successfully without errors.",
            "ObservedBehavior": "Intermittent errors occur during transaction commits, indicating a failure to remove the prepared transaction state.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-5384.json",
        "creation_time": "2014-10-06T09:26:58.000+0000",
        "bug_report": {
            "BugID": "AMQ-5384",
            "Title": "Deadlock on DB Connections in JDBCMessageStore.removeMessage",
            "Description": "ActiveMQ 5.9 experiences deadlocks under load (30-50 requests/second) when using JDBC persistence. This issue causes the application to hang during performance testing, particularly during nightly tests. The deadlock appears to occur due to multiple database connections being created within the same transaction, leading to resource contention.",
            "StackTrace": [
                "2014-10-06 08:44:40,646 | INFO  | Logging the stack trace by which the overdue resource was checked-out. | com.mchange.v2.resourcepool.BasicResourcePool | C3P0PooledConnectionPoolManager[identityToken->2x1e6s941raztn6mju110",
                "java.lang.Exception: DEBUG STACK TRACE: Overdue resource check-out stack trace.",
                "at com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:555)",
                "at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutAndMarkConnectionInUse(C3P0PooledConnectionPool.java:756)",
                "at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:683)",
                "at com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:140)",
                "at org.apache.activemq.store.jdbc.TransactionContext.getConnection(TransactionContext.java:58)",
                "at org.apache.activemq.store.jdbc.TransactionContext.begin(TransactionContext.java:163)",
                "at org.apache.activemq.store.jdbc.JDBCPersistenceAdapter.beginTransaction(JDBCPersistenceAdapter.java:510)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore$Tx.commit(MemoryTransactionStore.java:92)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore.commit(MemoryTransactionStore.java:259)",
                "at org.apache.activemq.transaction.XATransaction.storeCommit(XATransaction.java:85)",
                "at org.apache.activemq.transaction.XATransaction.commit(XATransaction.java:75)",
                "at org.apache.activemq.broker.TransactionBroker.commitTransaction(TransactionBroker.java:253)",
                "at org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:112)",
                "at org.apache.activemq.broker.TransportConnection.processCommitTransactionTwoPhase(TransportConnection.java:433)",
                "at org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:102)",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:292)",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:149)",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:270)",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:214)",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)",
                "at java.lang.Thread.run(Thread.java:662)",
                "ActiveMQ Transport: tcp:///10.132.7.20:36431@5445 daemon prio=10 tid=0x000000004119d000 nid=0x61bf in Object.wait() [0x00007f41120d7000]",
                "java.lang.Thread.State: WAITING (on object monitor)",
                "at java.lang.Object.wait(Native Method)",
                "- waiting on <0x00000000fabdd2c0> (a com.mchange.v2.resourcepool.BasicResourcePool)",
                "at com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1414)",
                "at com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:606)",
                "- locked <0x00000000fabdd2c0> (a com.mchange.v2.resourcepool.BasicResourcePool)",
                "at com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:526)",
                "at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutAndMarkConnectionInUse(C3P0PooledConnectionPool.java:756)",
                "at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:683)",
                "at com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:140)",
                "at org.apache.activemq.store.jdbc.TransactionContext.getConnection(TransactionContext.java:58)",
                "at org.apache.activemq.store.jdbc.adapter.DefaultJDBCAdapter.getStoreSequenceId(DefaultJDBCAdapter.java:290)",
                "at org.apache.activemq.store.jdbc.JDBCPersistenceAdapter.getStoreSequenceIdForMessageId(JDBCPersistenceAdapter.java:840)",
                "at org.apache.activemq.store.jdbc.JDBCMessageStore.removeMessage(JDBCMessageStore.java:194)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore$4.run(MemoryTransactionStore.java:348)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore$Tx.commit(MemoryTransactionStore.java:103)",
                "at org.apache.activemq.store.memory.MemoryTransactionStore.commit(MemoryTransactionStore.java:259)",
                "at org.apache.activemq.transaction.XATransaction.storeCommit(XATransaction.java:85)",
                "at org.apache.activemq.transaction.XATransaction.commit(XATransaction.java:69)",
                "at org.apache.activemq.broker.TransactionBroker.commitTransaction(TransactionBroker.java:253)",
                "at org.apache.activemq.broker.MutableBrokerFilter.commitTransaction(MutableBrokerFilter.java:112)",
                "at org.apache.activemq.broker.TransportConnection.processCommitTransactionOnePhase(TransportConnection.java:424)",
                "at org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:100)",
                "at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:292)",
                "at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:149)",
                "at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)",
                "at org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireFormatNegotiator.java:113)",
                "at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:270)",
                "at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)",
                "at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:214)",
                "at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:196)",
                "at java.lang.Thread.run(Thread.java:662)"
            ],
            "StepsToReproduce": [
                "Set up ActiveMQ 5.9 with Oracle 11.2 as the persistent store and C3P0 as the connection pool.",
                "Generate a load of 30-50 requests per second on the broker.",
                "Monitor the application for deadlocks or hangs during performance testing."
            ],
            "ExpectedBehavior": "The application should handle the load without deadlocks or hangs, allowing for smooth performance during testing.",
            "ObservedBehavior": "The application hangs during performance testing due to deadlocks on database connections, particularly when multiple connections are created within the same transaction.",
            "Resolution": "A potential solution is to modify the JDBCMessageStore.removeMessage method to reuse the existing database connection passed in the context parameter."
        }
    },
    {
        "filename": "AMQ-5783.json",
        "creation_time": "2015-05-20T08:47:56.000+0000",
        "bug_report": {
            "BugID": "AMQ-5783",
            "Title": "EOFException when browsing Topic due to missing chunk stream",
            "Description": "When an offline durable subscriber is timed out (configured with offlineDurableSubscriberTimeout), a WARNING message is logged indicating a failure to browse the topic. This is accompanied by an EOFException stating that the chunk stream does not exist.",
            "StackTrace": [
                "2015-05-13 13:45:08,472 [sage] Scheduler] - WARN  Topic                          - Failed to browse Topic: XXXXX",
                "java.io.EOFException: Chunk stream does not exist, page: 39 is marked free",
                "at org.apache.activemq.store.kahadb.disk.page.Transaction$2.readPage(Transaction.java:470)",
                "at org.apache.activemq.store.kahadb.disk.page.Transaction$2.<init>(Transaction.java:447)",
                "at org.apache.activemq.store.kahadb.disk.page.Transaction.openInputStream(Transaction.java:444)",
                "at org.apache.activemq.store.kahadb.disk.page.Transaction.load(Transaction.java:420)",
                "at org.apache.activemq.store.kahadb.disk.page.Transaction.load(Transaction.java:377)",
                "at org.apache.activemq.store.kahadb.disk.index.BTreeIndex.loadNode(BTreeIndex.java:266)",
                "at org.apache.activemq.store.kahadb.disk.index.BTreeIndex.getRoot(BTreeIndex.java:174)",
                "at org.apache.activemq.store.kahadb.disk.index.BTreeIndex.iterator(BTreeIndex.java:236)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex$MessageOrderIterator.<init>(MessageDatabase.java:3033)",
                "at org.apache.activemq.store.kahadb.MessageDatabase$MessageOrderIndex.iterator(MessageDatabase.java:2985)",
                "at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore$4.execute(KahaDBStore.java:564)",
                "at org.apache.activemq.store.kahadb.disk.page.Transaction.execute(Transaction.java:779)",
                "at org.apache.activemq.store.kahadb.KahaDBStore$KahaDBMessageStore.recover(KahaDBStore.java:558)",
                "at org.apache.activemq.store.ProxyTopicMessageStore.recover(ProxyTopicMessageStore.java:62)",
                "at org.apache.activemq.broker.region.Topic.doBrowse(Topic.java:589)",
                "at org.apache.activemq.broker.region.Topic.access$100(Topic.java:65)",
                "at org.apache.activemq.broker.region.Topic$6.run(Topic.java:722)",
                "at org.apache.activemq.thread.SchedulerTimerTask.run(SchedulerTimerTask.java:33)",
                "at java.util.TimerThread.mainLoop(Timer.java:555)",
                "at java.util.TimerThread.run(Timer.java:505)"
            ],
            "StepsToReproduce": [
                "1. Configure an offline durable subscriber with a timeout (offlineDurableSubscriberTimeout).",
                "2. Allow the subscriber to go offline.",
                "3. Attempt to browse the topic after the subscriber has timed out."
            ],
            "ExpectedBehavior": "The topic should be browsed successfully without any exceptions.",
            "ObservedBehavior": "A WARNING message is logged, and an EOFException is thrown indicating that the chunk stream does not exist.",
            "Resolution": "A fix for this issue is checked into the tree and tested."
        }
    },
    {
        "filename": "AMQ-2965.json",
        "creation_time": "2010-10-07T20:18:59.000+0000",
        "bug_report": {
            "BugID": "AMQ-2965",
            "Title": "ActiveMQ Fails to Start Due to DNS Resolution Issues",
            "Description": "ActiveMQ is installed on a physical server with two ethernet interfaces: one for external traffic and another for internal communication. ActiveMQ is configured to listen only on the internal interface (172.x.x.x). However, without internal DNS resolution, ActiveMQ fails to start, resulting in an UnknownHostException. This issue can be worked around by adding entries to the /etc/hosts file for each machine, which is not feasible in large environments.",
            "StackTrace": [
                "2010-06-09 16:48:45,714 | ERROR | Failed to resolve localhost | org.apache.activemq.broker.BrokerService | WrapperSimpleAppMain",
                "java.net.UnknownHostException: Q01M0003: Q01M0003",
                "at java.net.InetAddress.getLocalHost(Unknown Source)",
                "at org.apache.activemq.util.IdGenerator.<clinit>(IdGenerator.java:52)",
                "at org.apache.activemq.broker.region.RegionBroker.<clinit>(RegionBroker.java:75)",
                "at org.apache.activemq.broker.BrokerService.createRegionBroker(BrokerService.java:1734)",
                "at org.apache.activemq.broker.BrokerService.createRegionBroker(BrokerService.java:1728)",
                "at org.apache.activemq.broker.BrokerService.createBroker(BrokerService.java:1688)",
                "at org.apache.activemq.broker.BrokerService.getBroker(BrokerService.java:706)",
                "at org.apache.activemq.broker.BrokerService.start(BrokerService.java:469)",
                "at org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:85)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)",
                "at java.lang.reflect.Method.invoke(Unknown Source)",
                "at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1414)",
                "at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1375)",
                "at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1335)",
                "at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)",
                "at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)",
                "at java.security.AccessController.doPrivileged(Native Method)",
                "at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)",
                "at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)",
                "at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)",
                "at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)",
                "at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)",
                "at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)",
                "at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)",
                "at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)",
                "at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380)",
                "at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:64)",
                "at org.apache.xbean.spring.context.ResourceXmlApplicationContext.<init>(ResourceXmlApplicationContext.java:52)",
                "at org.apache.activemq.xbean.XBeanBrokerFactory.createApplicationContext(XBeanBrokerFactory.java:96)",
                "at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:52)",
                "at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:71)",
                "at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:54)",
                "at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:115)",
                "at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:74)",
                "at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)",
                "at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:136)",
                "at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)",
                "at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:82)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)",
                "at java.lang.reflect.Method.invoke(Unknown Source)",
                "at org.apache.activemq.console.Main.runTaskClass(Main.java:251)",
                "at org.apache.activemq.console.Main.main(Main.java:107)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)",
                "at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)",
                "at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)",
                "at java.lang.reflect.Method.invoke(Unknown Source)",
                "at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)",
                "at java.lang.Thread.run(Unknown Source)"
            ],
            "StepsToReproduce": [
                "Install ActiveMQ on a physical server with two ethernet interfaces.",
                "Configure ActiveMQ to listen only on the internal interface (172.x.x.x).",
                "Ensure that external DNS resolution is available but internal DNS resolution is not.",
                "Attempt to start ActiveMQ."
            ],
            "ExpectedBehavior": "ActiveMQ should start successfully without any errors.",
            "ObservedBehavior": "ActiveMQ fails to start and logs an UnknownHostException due to unresolved hostname.",
            "Resolution": "This issue has been resolved by adding DNS entries for each machine in the /etc/hosts file, although this is not a scalable solution."
        }
    }
]